
#1

---

### 🌟 **C’est quoi le MCP (Model Context Protocol) ?**

Le **MCP**, c’est une **règle** ou un **langage commun** que les ordis et les applis utilisent pour bien discuter avec une **intelligence artificielle** (qu’on appelle aussi un **modèle de langage** ou LLM).

Un **modèle de langage** (comme ChatGPT), c’est un programme très malin qui sait **lire, comprendre et répondre à du texte**. Mais pour bien répondre, il a besoin de **bons renseignements**. Et c’est là que le **MCP** est super utile !


---

### 🧃 Une analogie simple : Le MCP, c’est comme le port USB-C pour les IA

Tu vois le **port USB-C** (le petit trou sur les téléphones ou ordis) ? Il sert à **brancher plein de trucs** comme un chargeur 🔌 ou une manette 🎮.
Le **MCP**, c’est pareil, mais pour les **IA** : ça permet de **bien les connecter** avec les applis.

➡️ Le **port USB-C** est **toujours pareil**, peu importe la marque. C’est un **standard** (une façon unique de se brancher facilement).

👉 Le **MCP**, c’est pareil, mais pour **les intelligences artificielles** : ça les aide à se **connecter simplement** avec toutes les applis.


---

### 🧠 À quoi ça sert ?

Le **MCP** aide une **IA** à se **connecter facilement** à des **outils** ou des **infos** d’une application.


---

#### 📸 Application de photos

Avec le **MCP**, une IA peut savoir **où a été prise une photo** (à l’école, chez mamie) et **qui est dessus** (papa, ton chien 🐶…).
➡️ Elle peut alors **classer les photos** ou faire une **vidéo souvenir** toute seule !

#### 📝 Appli de tâches

Avec le **MCP**, l’IA peut voir ce que tu as **déjà fait** ✅, te **rappeler** ce que tu oublies ⏰, et t’aider à **mieux organiser ta journée** (comme : “fais tes devoirs avant la console 🎮”).

---

#### 🎵 Appli de musique

L’IA peut savoir les **chansons que tu aimes** 🎶, et te faire une **playlist spéciale** (comme “musique pour se concentrer”).

---

#### 🛒 Appli de courses

Tu écris ta liste (“pâtes”, “lait” 🧃) et l’IA, avec le MCP, peut te dire : “tu n’as plus de céréales !” ou “tu veux le même yaourt que la dernière fois ?”.

---

### 🧩 MCP = une pièce qui relie tout

Le **MCP**, c’est comme une **pièce de LEGO spéciale** 🧱 qui relie l’**intelligence artificielle** avec le reste de l’appli (les infos, les outils, les boutons…).

🧠 **Sans MCP**, chaque appli devrait **tout inventer toute seule**, et ce serait **très compliqué**.

Avec le **MCP**, c’est **plus simple, plus rapide**, et **tout fonctionne mieux partout** !


---

### 🧁 Résumé très simple

* Le **MCP** est un **langage universel** pour que les **IA parlent avec les applis**.
* C’est comme un **port USB-C** : on branche tout facilement.
* Il aide l’IA à **comprendre les infos** pour mieux aider (classer, organiser, répondre…).
* On s’en sert dans plein d’applis : **photos, tâches, musique, courses** 📷📝🎵🛒.


---

---

#2

---

### 🤖 C’est quoi le “Agents SDK” ?

Un **SDK** (Software Development Kit), c’est une **boîte à outils pour les développeurs**.
Elle contient des objets, des règles et des fonctions pour créer des **applications intelligentes**.

🧰 Le **Agents SDK**, c’est une **boîte spéciale** d’OpenAI pour aider les programmeurs à **créer des agents intelligents**.

Un **agent**, c’est comme un **petit robot dans l’appli** qui peut **penser et agir pour toi**, un peu comme un **assistant intelligent**.

---

### 🧠 Et comment il utilise MCP ?

Le **Agents SDK** peut utiliser le **langage MCP** (comme le port USB-C des IA 🔌), pour bien **connecter les agents intelligents** avec les applis.

👉 Grâce au **MCP**, les agents peuvent **se connecter facilement à plein de serveurs**.
Un **serveur**, c’est comme un **ordi à distance** avec des **outils, infos ou services**.

---
### 🛠️ Que peut faire un agent ?

#### 📦 Appli de livraison

L’agent peut parler au **serveur de la pizzeria** et au **serveur de géolocalisation**, puis te dire : “🚴 Ton livreur arrive dans 6 minutes !”

---

#### 🎮 Jeu vidéo

Il peut voir ta **progression**, te donner une **astuce** (“Essaie l’armure magique !”) et **adapter la difficulté** comme un coach 🧙‍♂️.

---

#### 🏥 Appli de santé

Il regarde ton **calendrier médical** et ton **bracelet santé**, puis te dit : “Prends ton médicament après le petit-déj !”

---

#### 🧾 Appli d’argent

L’agent voit ton **compte en banque**, tes dépenses, et dit : “Tu as déjà mis 20 € en bonbons 🍬, tu veux faire une pause ?”


### 🧩 Résumé simple avec images

* Le **Agents SDK**, c’est une **boîte à outils magique** pour créer des **assistants intelligents**.
* Ces assistants font **plein de choses utiles** dans une appli.
* Avec le **MCP** (la prise USB des IA 🔌), ils peuvent **parler à des serveurs** (pleins d’infos ou d’outils).
* Résultat : l’agent **agit tout seul pour t’aider**, comme un **assistant perso**.

---

✨ **Imagine** : dans une seule appli, un agent pourrait **organiser tes vidéos**, **te donner la météo** ☁️, ou **t’aider à apprendre l’anglais** 🇬🇧…
**Tout ça grâce au SDK + MCP** 🧠🔌💡.



#3


---

### 🌐 C’est quoi un **serveur MCP** ?

Un **serveur**, c’est comme un **gros ordi sur Internet** qui peut **garder des infos**, **répondre** ou **faire des actions pour toi**.

Dans le monde des **agents intelligents** 🧠, les **serveurs MCP** sont les **ordinateurs qui donnent des infos ou des outils** pour aider les agents à bien faire leur travail.

---

### 🧭 Trois sortes de serveurs MCP

Il y a **3 types de serveurs MCP**, selon **comment l’agent leur parle** — un peu comme **parler à un ami** : en vrai, par SMS, ou sur Internet 📡.

Voici les trois :

---

#### **1. Les serveurs stdio**

🖥️ Ils sont **dans ton appli directement**, comme un **outil dans ta trousse d’école** : toujours là, prêt à aider, **pas besoin d’aller le chercher ailleurs**.

Le mot **“subprocess”**, c’est quand le serveur est un **petit programme dans un plus gros**.
Et **“localement”**, ça veut dire **sur ton appareil** (comme ton ordi ou ton téléphone).

👉 **Exemple simple :**
Dans une appli de **dessin** 🖌️, un serveur stdio peut **reconnaître les formes** (comme les carrés ou cercles) sans aller sur Internet, car il est **déjà dans l’appli**.

---

#### **2. Les serveurs HTTP over SSE**

🌍 Ce sont des **serveurs loin de toi**, sur Internet.
L’agent leur parle avec une **adresse Web** (une **URL**), comme quand tu vas sur un site.

Le mot **HTTP**, c’est le **langage que les sites utilisent pour s’envoyer des infos sur Internet**.

**SSE** (Server-Sent Events), c’est une **façon spéciale pour qu’un serveur envoie des messages à l’agent**, sans que l’agent redemande tout le temps.

C’est comme un **talkie-walkie** 🎙️ qui **envoie un message tout seul dès qu’il y a du nouveau**.

👉 **Exemple simple :**
Dans une appli de **météo** ☀️, un serveur à distance peut t’envoyer les **nouvelles infos** sur la pluie ou le soleil **dès qu’il y a un changement**, sans recharger la page.

---

💡 Il existe un **3e type de serveur MCP**, mais on le verra **plus tard** si tu veux.

---

### 🧩 Pourquoi c’est utile ?

Tu choisis le **bon type de serveur MCP** selon ton besoin :

* Pas d’Internet ? → **Serveur stdio**, qui marche **sur ton appareil** 📦.
* Besoin d’infos du monde entier ? → **Serveur HTTP over SSE**, qui va **chercher à distance** 🌐.

---
### 🎮 Exemples d’applis :

#### 📷 Appli photo

* Le **serveur stdio** classe les photos par **visage ou lieu**.
* Le **serveur HTTP over SSE** ajoute des **filtres en ligne** 🎨.

#### 🛍️ Appli shopping

* Le **serveur stdio** fait une **liste rapide** de tes achats.
* Le **serveur HTTP over SSE** trouve les **prix à jour** ou les **promos** 💸.

#### 📚 Appli d’apprentissage

* Le **serveur stdio** corrige tes **phrases ou calculs** sans Internet.
* Le **serveur HTTP over SSE** envoie des **exercices adaptés** depuis ton école.


---

### 🧁 Résumé très simple

* Les **agents** sont des **petits assistants intelligents** 🧠.
* Les **serveurs MCP** leur donnent des **outils ou infos utiles** 🧰.
* Il y a **plusieurs types** selon **comment on leur parle** :

  * **stdio** : dans l’appli, **sans Internet** 🖥️.
  * **HTTP over SSE** : **à distance**, via Internet 🌐.
* On les trouve dans plein d’applis : **météo, photos, shopping, apprentissage** 📱🧩.


---



#4

---

### 🧠 Le troisième type de serveur MCP

Il existe un **troisième type** de serveur que les agents peuvent utiliser :

> **Streamable HTTP server**

C’est un mot un peu compliqué, alors on va **l’expliquer petit à petit** 😊.


---

### 📦 1. **Serveur** (server)

Un **serveur**, c’est un **gros ordi sur Internet** qui **garde des infos** ou **fait des choses** quand on lui demande.

C’est comme un **magasin géant** 🏪 où les agents vont **chercher ce qu’il leur faut**.


---

### 🌍 2. **HTTP** (le langage du web)

**HTTP**, c’est un **langage d’Internet** que les sites utilisent pour **parler avec les serveurs**.
Par exemple, ton téléphone l’utilise quand tu regardes une **vidéo YouTube** ou la **météo**.

---

### 🔁 3. **Streamable** (ça coule comme un robinet)

**Streamable** vient de **“stream”**, qui veut dire **faire couler quelque chose en continu**, comme un **robinet ouvert**.

👉 Comme un **robinet qui coule doucement**, un **streamable server** **envoie les infos petit à petit**, sans attendre que tout soit prêt d’un coup.

---

### 🧩 Comment ça marche ?

Le **Streamable HTTP server** :

* est **à distance** 🌐,
* parle en **HTTP** (le langage d’Internet),
* et **envoie les infos petit à petit**, sans attendre la fin ⏳.

---

### 🎮📱 Exemples dans des vraies applis

#### 📺 Appli de vidéos en direct

Tu regardes un live 🎮 : le **serveur streamable** envoie la vidéo **au fur et à mesure**, et l’agent peut déjà te **proposer d'autres vidéos**.

---

#### 🛠️ Appli de dépannage

Tu filmes ton lave-vaisselle 😬 : l’agent voit la vidéo **en direct**, et te **guide étape par étape**, sans attendre la fin.

---

#### 🧾 Appli de traduction en direct

Tu parles 🎙️, le **serveur reçoit ta voix en continu**, et l’agent **traduit tes phrases tout de suite**, sans attendre que tu aies fini.

---

### 🔧 Pourquoi c’est pratique ?

* L’agent **gagne du temps** : il commence **pendant que les infos arrivent**.
* C’est super pour le **direct** : vidéos, voix, ou voiture en mouvement 🚗.
* Parfait pour les agents qui doivent **réagir vite**, comme dans un **jeu ou une discussion**.

---
### 🎯 Résumé simple

| Terme          | Ce que ça veut dire                                             |
| -------------- | --------------------------------------------------------------- |
| **Serveur**    | Un **gros ordi** qui aide ton appli                             |
| **HTTP**       | Le **langage d’Internet** 🌐                                    |
| **Streamable** | Qui **envoie petit à petit**, comme un **robinet qui coule** 🚿 |

👉 Un **Streamable HTTP Server**, c’est :
**un serveur sur Internet**, qui **parle le langage du web** et **envoie les infos petit à petit**.
Parfait pour tout ce qui **bouge vite ou change souvent** ! 🌀


---



#5

---

### 🧠 Ce que ça dit

Pour **se connecter aux serveurs MCP**, on utilise des **objets spéciaux** :

* `MCPServerStdio` pour les serveurs dans l’appli,
* `MCPServerSse` pour les serveurs à distance en ligne,
* `MCPServerStreamableHttp` pour ceux qui **envoient petit à petit**.

Ces noms sont un peu bizarres 😅, mais ils sont **très utiles** : ils permettent à l’agent de **parler au bon serveur**, comme si tu choisissais **le bon téléphone pour appeler la bonne personne** 📞.

---

### 🧰 Les trois types de serveurs

1. **`MCPServerStdio`** → pour un **serveur local**, qui marche **dans ton appareil** 🖥️
   (comme un **mini robot caché** dans ton appli, toujours prêt à aider).

2. **`MCPServerSse`** → pour un **serveur à distance** 🌐 qui envoie les infos **en direct**,
   (comme recevoir un **message automatique**, sans le redemander).

3. **`MCPServerStreamableHttp`** → pour un **serveur sur Internet** qui envoie les infos **petit à petit** 🚿
   (comme un **robinet qui coule**, parfait pour vidéo, voix ou données en continu).

---
### 🔧 Exemples simples

#### 📷 Appli photo

* `MCPServerStdio` → classe les photos **sans Internet** (pratique en avion ✈️).
* `MCPServerSse` ou `MCPServerStreamableHttp` → ajoute des **effets en ligne**.

---

#### 📋 Appli de tâches

* `MCPServerStdio` → coche les tâches **en local**.
* `MCPServerSse` → te **rappelle un rendez-vous** via Google 📅.
* `MCPServerStreamableHttp` → suit ton **énergie en direct** avec un bracelet 💪.

---

#### 🎮 Jeu vidéo

* `MCPServerStdio` → connaît ta **partie actuelle**.
* `MCPServerSse` → trouve **des astuces en ligne**.
* `MCPServerStreamableHttp` → regarde ton jeu **en direct** et te **conseille en temps réel**.


### 🧁 Résumé ultra simple

| Classe                    | Parle à…                               | Exemple rapide                 |
| ------------------------- | -------------------------------------- | ------------------------------ |
| `MCPServerStdio`          | Un serveur **dans l’appli** 🖥️        | Trier des photos sans Internet |
| `MCPServerSse`            | Un serveur **en direct** 🌐            | Rappel de rendez-vous          |
| `MCPServerStreamableHttp` | Un serveur **qui envoie doucement** 🚿 | Traduire une voix en direct    |


---

### 📌 Pourquoi c’est important ?

Ces trois classes sont **comme des prises** : tu choisis **celle qu’il faut selon le besoin** :

* Pour du **rapide et local** → `MCPServerStdio`
* Pour une **info à jour en ligne** → `MCPServerSse`
* Pour des **données en continu** (audio, vidéo) → `MCPServerStreamableHttp`

---



#6

---

### 📄 Voici le code complet présenté :

```python
async with MCPServerStdio(
    params={
        "command": "npx",
        "args": ["-y", "@modelcontextprotocol/server-filesystem", samples_dir],
    }
) as server:
    tools = await server.list_tools()
```

---

### 🧩 Explication ligne par ligne, comme une histoire simple

---
#### 🔹 `async with MCPServerStdio(...) as server:`

➡️ C’est comme dire : **"J’utilise un serveur stdio pour un moment, et tout sera bien rangé à la fin."**

* `async` : ça veut dire **"fais-le sans bloquer le reste"**.
  🧠 Comme **cuisiner en regardant un dessin animé** : tu fais plusieurs choses en même temps.

* `with ... as server:` : c’est une **façon propre d’utiliser quelque chose**, puis **de le refermer tout seul à la fin**.
  💡 Comme **ouvrir un cahier, écrire dedans, puis le refermer sans oublier**.

* `MCPServerStdio(...)` : c’est une **boîte spéciale** (une **classe**) pour **parler à un serveur local**,
  comme un **outil toujours prêt dans ta poche** 🛠️.

* `as server` : on donne un **petit nom temporaire** au serveur pour **le réutiliser facilement**.
  🎒 Comme dire : “J’appelle ce sac **mon-sac**, et je l’utilise avec ce nom.”

---

#### 🔹 `params={ ... }`

➡️ Ce sont des **paramètres** (des **réglages**) pour dire **comment démarrer le serveur**.
💡 Comme **expliquer comment allumer une machine** : quel bouton, quel mode, etc.

---

##### À l’intérieur :

```python
"command": "npx"
```

* `"command"` : c’est **la commande à lancer pour démarrer le serveur**.
  🎛️ Comme dire **quel bouton appuyer pour que la machine démarre**.

* `"npx"` : c’est un outil pour **lancer un programme sans l’installer pour toujours**.
  🧪 Comme un **outil jetable**, utilisé juste pour une tâche.

---

```python
"args": ["-y", "@modelcontextprotocol/server-filesystem", samples_dir]
```

* `"args"` veut dire **"arguments"** : ce sont les **petits détails donnés à la commande** pour lui dire **quoi faire exactement**.

🧾 C’est comme une **recette** : tu ne dis pas juste "fais un gâteau", mais aussi **"mets 2 œufs, du lait et fais-le au chocolat"**.

À l’intérieur de la liste, on a :

* `"-y"` : ça veut dire **"oui, fais-le sans poser de questions"**.
  🟢 Comme dire : **"vas-y, fais tout sans me demander à chaque étape"**.

* `"@modelcontextprotocol/server-filesystem"` : c’est **le nom du serveur à lancer**.
  📁 C’est un serveur pour **travailler avec des fichiers** : lire ou écrire dans des **dossiers de ton ordi**.

* `samples_dir` : c’est un nom qui garde **le chemin vers un dossier d’exemples**.
  📂 Comme dire : **"Va chercher les infos dans le dossier ‘échantillons’."**

---

#### 🔹 `tools = await server.list_tools()`

➡️ **Ici, l’agent demande au serveur : “Quels outils as-tu pour moi ?”**

Décomposons tout :

* `tools =` : on crée une **boîte virtuelle appelée "tools"** pour **garder les outils trouvés**.
  🧰 Comme une **boîte à outils** qu’on prépare pour s’en servir après.

* `await` : ça veut dire **"attends pendant que ça travaille"**, mais **tu peux continuer dès que c’est prêt**.
  ⏳ Comme dire : **“Demande un sandwich, mais ne reste pas bloqué à attendre devant.”**

* `server.list_tools()` : on **demande au serveur stdio quels outils il a**.
  🛠️ Comme **ouvrir une trousse et voir quels stylos ou crayons sont dedans**.

---

### 🎯 Résumé très simple

👋 “Je lance un **serveur dans mon appli** pour **travailler avec des fichiers**.
Je l’ouvre avec **un outil temporaire (npx)**, je lui montre **où sont les exemples**,
et je lui demande : *Quels outils tu as ?*
Puis je **garde cette liste** pour m’en servir plus tard.”

---

### 📱 Exemples d’applis

#### 📂 Appli de fichiers

Le serveur peut **explorer des dossiers** ou **chercher un devoir**.

#### 📝 Appli de notes

L’agent trouve une note comme : “*idée de jeu vidéo* commencée la semaine dernière”.

#### 👩‍🍳 Appli de recettes

Le serveur lit tes recettes, et l’agent te dit : “Tu veux refaire ta tarte au citron ? 🍋”

---



#7

---

### 🧠 En langage très simple

Cette partie montre **comment un agent intelligent** peut **utiliser un serveur MCP** pour faire des actions dans une appli, comme **réfléchir et aider tout seul**.

Elle montre aussi **comment l’agent découvre les outils qu’il peut utiliser**,
et **comment il s’en sert pour aider dans l’appli** 📲.

---

### 🔧 Que veut dire “ajouter des serveurs MCP à un agent” ?

Un **serveur MCP**, c’est comme un **atelier de bricolage** 🛠️ rempli d’**outils** (comme un marteau ou un crayon) que l’agent peut utiliser.

Un **agent**, c’est comme un **bricoleur intelligent** 🤖 dans une appli :
il **réfléchit** et **utilise des outils** pour aider.

➡️ **Ajouter un serveur MCP à un agent**, c’est comme **donner à un bricoleur intelligent un atelier plein d’outils utiles**.

---

### 🔍 Que fait le SDK avec `list_tools()` ?

Le **SDK** (la boîte à outils pour agents) utilise `list_tools()` **chaque fois que l’agent démarre**,
pour savoir **quels outils il peut utiliser**.

🧰 `list_tools()` est une commande qui dit : **“Serveur, montre-moi tous tes outils.”**
🧠 Comme si l’agent ouvrait un **tiroir** et disait : **“Qu’est-ce que j’ai aujourd’hui ?”**


➡️ À **chaque démarrage**, l’agent demande :
**“Quels outils j’ai à dispo maintenant ?”** 🧰

Par exemple :

* Dans une **appli de recettes** 🍽️ : l’agent peut **lire une recette**, **ajouter un ingrédient**, ou **proposer un plat végétarien**.
* Dans une **appli de budget** 💰 : il peut **compter tes dépenses**, **faire une prédiction**, ou **prévenir si tu dépenses trop**.

---

### 💡 Pourquoi c’est utile ?

Grâce à `list_tools()`, l’agent sait **toujours ce qu’il peut faire**.
🎯 Si on ajoute un **nouvel outil** (comme un ouvre-boîte 🥫), il le **voit tout seul** et peut s’en servir.

---

### 🛎️ Quand l’agent utilise un outil

Quand le **cerveau de l’agent** (le LLM) veut utiliser un outil, le **SDK** lance une commande spéciale : `call_tool()`.
🛠️ C’est comme dire : **“OK, maintenant je prends cet outil et je m’en sers !”**

👉 `call_tool()` veut dire **“utilise un outil maintenant”**.
🛠️ Comme si l’agent disait : **“J’ai besoin du tournevis — je le prends et je m’en sers !”**

---

### 🎮 Exemples concrets

---

#### 📦 Appli de magasin

L’agent voit ses outils (`list_tools()`) puis utilise `call_tool()` pour dire :
**“Commandons 10 boîtes de crayons ✏️.”**

---

#### 🧘‍♀️ Appli de bien-être

L’agent propose **une activité relaxante**, et si tu es stressé, il lance `call_tool()` pour démarrer **un exercice de respiration** 🌬️.

---

#### 🧾 Appli de budget

Il regarde les outils (comme “analyser les dépenses”), puis utilise `call_tool()` pour dire :
**“Tu as dépassé ton budget repas cette semaine 🍔.”**

---

### 🎁 Résumé très facile

* ➕ On **ajoute des serveurs MCP** pour donner des **outils à l’agent**.
* 👀 L’agent utilise **`list_tools()`** pour voir ce qu’il peut faire.
* 🛠️ Il lance **`call_tool()`** pour utiliser un outil.
* ✅ Résultat : l’agent est **plus malin et plus utile** dans plein de situations.

---



#8


---

### 📄 Le code présenté :

```python
agent = Agent(
    name="Assistant",
    instructions="Use the tools to achieve the task",
    mcp_servers=[mcp_server_1, mcp_server_2]
)
```

---

### 🧩 Ce que fait ce code

On est en train de **créer un agent intelligent** :

un **assistant virtuel** qui peut **réfléchir et agir tout seul** dans une application.

---

#### 🧠 `agent = Agent(...)`

➡️ On crée un **nouvel agent**, et on lui donne un **nom, une mission et des outils**.

* `agent =` → on **donne un nom** à l’agent qu’on fabrique.
  📦 Comme dire : “Je crée une boîte magique et je l’appelle `agent`.”

* `Agent(...)` → c’est la **commande pour créer un agent** avec des réglages.
  🧪 Comme dire : **“Fabrique-moi un robot intelligent avec ces options.”**

---

#### 💬 `name="Assistant"`

➡️ On donne **un nom** à l’agent.

* `"Assistant"` → c’est le **prénom du robot intelligent**.
  🧑‍💼 Comme l’appeler “Lucie” ou “Roby”, ici on dit juste **“Assistant”**.

Ce **nom s’affiche dans l’appli** pour montrer **qui parle ou agit**.

---

#### 📜 `instructions="Use the tools to achieve the task"`

➡️ On donne à l’agent une **mission claire** :

**“Utilise les outils pour faire la tâche”**.

🔧🧠 C’est comme dire :

**“Tu as une boîte à outils, utilise-la pour faire le travail.”**

🗂️ Cette phrase **guide l’agent** et lui dit qu’il peut **utiliser les outils qu’on lui a donnés**.

---

#### 🧰 `mcp_servers=[mcp_server_1, mcp_server_2]`

➡️ On connecte à l’agent **deux serveurs MCP** (des ateliers d’outils numériques).

* `mcp_servers` → c’est la **liste des serveurs** que l’agent peut utiliser.
  📡 Comme des **coffres à outils virtuels** qu’il peut ouvrir pendant qu’il travaille.

* `[mcp_server_1, mcp_server_2]` → ce sont **deux serveurs différents**.
  🧳🧳 Comme si l’agent avait **deux valises** :
* l’une pour **organiser des fichiers**,
* l’autre pour **envoyer des rappels ou lire la météo**.


---

### 🎯 Résumé très simple

> “Je crée un assistant intelligent nommé *Assistant*.
> Je lui dis d’**utiliser ses outils pour faire les tâches**.
> Je lui donne **deux serveurs MCP** remplis d’outils spéciaux.”


---
### 📱 Exemples concrets

---

#### 📷 Appli photo

Un agent aide à **classer et envoyer les photos**.

* Serveur 1 : outil pour **reconnaître les visages**.
* Serveur 2 : outil pour **trier par lieu ou date**.

---

#### 📚 Appli pour les devoirs

Un agent **corrige, explique et crée des exercices**.

* Serveur 1 : outils de **correction**.
* Serveur 2 : outils pour **faire des quiz**.

---

#### 🛍️ Appli de shopping

Un agent **trouve les promos**, **compare les produits** et **suit le budget**.

* Serveur 1 : outil pour **analyser les prix**.
* Serveur 2 : outil pour **gérer la liste de courses**.

---
### 🧁 Résumé illustré

| Élément              | Ce que ça veut dire          | Image simple                               |
| -------------------- | ---------------------------- | ------------------------------------------ |
| `agent = Agent(...)` | On crée un agent intelligent | Comme fabriquer un petit robot qui aide 🤖 |
| `name="Assistant"`   | On lui donne un nom          | Comme l’appeler “Bob” ou “Mimi” 🧑‍💼      |
| `instructions=...`   | On lui donne une mission     | Comme lui dire quoi faire 🎯               |
| `mcp_servers=[...]`  | On lui donne des outils      | Comme des coffres remplis de gadgets 🧰    |

---



#9

---

### 🧠 Sujet de cette partie : **le "Caching"**

(ce mot vient de “cache”, à prononcer “cash”)

---

### 🔍 Qu’est-ce que le “cache” ?

Un **cache**, c’est une **petite cachette dans l’ordi** où on garde des infos pour **les retrouver plus vite plus tard**, au lieu d’**aller les chercher à chaque fois**.

🎒 **C’est comme garder ta trousse ouverte sur la table** au lieu de **chercher dans ton cartable à chaque fois** que tu veux un stylo.

---

### 📦 Que fait l’agent au démarrage ?

Chaque fois qu’un **agent démarre**, il lance **`list_tools()`** pour demander au serveur :

**“Quels outils tu as aujourd’hui ?”** 🧰

Mais si le serveur est **loin sur Internet** (serveur distant), ça peut **prendre un peu de temps** ⏳.
Ce petit **temps d’attente** s’appelle la **latency**.

🕓 **C’est comme demander une photo par la poste à quelqu’un très loin — ça met du temps à arriver !**


---
### 💡 Comment aller plus vite ? Avec le **cache** !

Au lieu de redemander la liste à chaque fois, l’agent peut **la garder en mémoire**

et se dire : **“Pas besoin de refaire tout le trajet, je l’ai déjà notée !”** 🧠📦

➡️ Pour aller plus vite, on peut activer le **cache** avec :

```python
cache_tools_list=True
```

🧠 Ça veut dire :
**“Garde la liste des outils en mémoire pour ne pas redemander à chaque fois.”**

---

### 📎 Où ajouter ce réglage ?

On peut mettre `cache_tools_list=True` avec n’importe quel **type de serveur MCP** :

* `MCPServerStdio` → pour un serveur **dans l’appli** 🖥️
* `MCPServerSse` → pour un serveur **à distance en direct** 🌍
* `MCPServerStreamableHttp` → pour un serveur **qui envoie petit à petit** 🚿

Tu dis simplement :

> **“Utilise `cache_tools_list=True` si la liste d’outils ne change pas.”** ✅


---

### ⚠️ Attention importante

Utilise `cache_tools_list=True` **seulement si tu es sûr que la liste ne changera pas**.

Sinon, si le serveur **ajoute ou enlève des outils**,

➡️ **l’agent ne les verra pas**, car il regarde **l’ancienne liste gardée en mémoire**.

📦 **C’est comme garder un vieux menu dans ta poche alors que le restaurant a changé sa carte.**

---

### 🎯 Exemples concrets dans des applications réelles

---
### 🎯 Exemples concrets

---

#### 📚 Appli de bibliothèque

Si les **livres changent rarement**, active le cache → l’agent dira plus vite si “Harry Potter” est dispo 📖.

---

#### 🧾 Appli de tâches ménagères

Si la **liste d’outils reste la même**, active le cache pour **réagir plus vite** chaque jour 🧼.

---

#### 🛒 Appli de courses

Si les outils sont toujours les mêmes (“ajouter”, “supprimer”, “trier”), active le cache.
👉 Mais **si de nouveaux outils peuvent arriver**, alors **ne le fais pas**.

---
### 🧁 Résumé simple avec images

| Terme                   | Ce que ça veut dire                            | Image facile                                 |
| ----------------------- | ---------------------------------------------- | -------------------------------------------- |
| `cache`                 | Garde une info pour plus tard                  | Comme un **livre ouvert à la bonne page** 📖 |
| `latency`               | Petit temps d’attente                          | Comme **attendre un colis** 🚚               |
| `cache_tools_list=True` | Active la mémoire rapide des outils            | Comme **garder ta trousse ouverte** ✏️       |
| ⚠️ attention            | À utiliser seulement si la liste ne change pas | Sinon tu as **de vieilles infos** ❌📄        |

---


#10


---

### 🧠 Sujet de cette partie :

**Comment “vider” le cache des outils si tu veux le mettre à jour.**

---

### 🧰 Petit rappel

Le **cache**, c’est quand l’agent **garde en mémoire** la liste des outils d’un serveur MCP
grâce à l’option : `cache_tools_list=True`.

🧠 Le **cache**, c’est comme une **fiche de révision** : au lieu de **relire tout le cahier**, tu gardes les **infos importantes** dans une petite fiche pour **gagner du temps**.

---

### 📎 Parfois, la fiche devient **trop vieille** ou **fausse**

Par exemple :

* Tu as ajouté un outil (ex : **“imprimer un document”** 🖨️)
* Ou tu as retiré un outil (ex : **“jouer un son d’alerte”**)

➡️ Alors, le cache **n’est plus à jour**.


Mais si l’agent **utilise encore la vieille fiche (le cache)**, il ne verra **pas que les outils ont changé** 😕.

---

### 💡 Que faire ?

Tu dois **effacer la vieille fiche**.

En informatique, on appelle ça **“invalider le cache”** (ça veut dire : **vider la mémoire pour tout remettre à jour**).

---

### 🔧 La solution : `invalidate_tools_cache()`

Cette commande dit au serveur MCP :

> **“Oublie l’ancienne fiche d’outils. On repart de zéro la prochaine fois.”** 🔁

---

### 🧃 Une analogie rigolote

C’est comme dire à ton cerveau :

🧠 ➡️ **“Oublie ta fiche de révision ! Le prof a changé les leçons, on en refait une nouvelle.”**

---

### 👩‍🍳 Exemples dans des **vraies applications**

---
### 👩‍🍳 Exemples concrets

---

#### 📸 Appli photo

Tu ajoutes un outil pour **trier par couleur**, mais l’agent ne le voit pas.
Tu fais `invalidate_tools_cache()` pour dire :
**“Regarde, il y a un nouvel outil magique !”** 🎨

---

#### 🛒 Appli de courses

Un outil pour **produits bio** 🌱 est ajouté.
Tu veux que l’agent le voie → tu fais `invalidate_tools_cache()` pour **mettre à jour**.

---

#### 📅 Appli de planning

Tu ajoutes “**alerter papa**” 🔔.
Tu utilises `invalidate_tools_cache()` pour que l’agent sache qu’il peut **prévenir la famille**.

---
### 🧁 Résumé tout simple

| Terme                          | Ce que ça veut dire                           | Exemple facile                                       |
| ------------------------------ | --------------------------------------------- | ---------------------------------------------------- |
| **cache**                      | Mémoire rapide des outils du serveur          | Une **fiche de révision** 📄                         |
| **invalidate\_tools\_cache()** | Vider cette mémoire pour tout remettre à jour | **Jeter la vieille fiche** pour en refaire une 🗑️✏️ |

---

### ✨ Conclusion

* Si ton agent **utilise une vieille liste** et tu veux qu’il **voie les nouveautés**,
* Dis-lui **d’oublier l’ancienne** avec `invalidate_tools_cache()`.
* Très utile si tu as **ajouté, changé ou supprimé des outils** dans ton appli.

---



#11

---

### 🧠 Sujet de cette partie

1. Des **exemples complets** à observer ou tester.
2. Le **tracing**, un mot compliqué qu’on va **rendre super simple** 👍

---
## 🔹 1. Exemples complets

Tu peux voir des **exemples qui fonctionnent vraiment** dans le dossier `examples/mcp`.
➡️ C’est pratique pour **comprendre comment tout marche ensemble** :
agent + serveur MCP + outils + actions.

🧰 **C’est comme ouvrir une trousse d’école déjà prête** : tu vois **tous les outils bien rangés** (crayons, gomme, stylos) et tu apprends **comment t’en servir dans une vraie situation**.


---

### 📱 Exemples dans des applis du quotidien

#### 🗂️ Appli de fichiers

Tu veux voir **comment un agent trie tes documents** ?
L’exemple montre tout : de la **création de l’agent** jusqu’à l’outil qui **liste les fichiers**.

#### 🧾 Appli de tâches

Tu veux voir **comment l’agent ajoute une tâche ou envoie un rappel** ?
Regarde l’exemple complet pour comprendre comment il **utilise un serveur MCP** pour faire ça 🧽📅.


---

## 🔹 2. Le **tracing** (suivi des actions)

### 🎯 Que veut dire “tracing” ?

Le **tracing**, c’est quand l’appli **note tout ce que l’agent fait**, comme un **journal secret** 📝.

📖 Exemple :
→ “À 14h03, j’ai demandé les outils.”
→ “À 14h05, j’ai utilisé ‘envoyer une alerte’.”

---

### 🔍 Que note ce journal ? Deux choses :

#### ✅ 1. Quand l’agent fait `list_tools()`

L’agent demande au serveur MCP :
➡️ **“Quels outils tu peux me prêter ?”** 🧰
Et le journal note ce moment.


Le tracing note **chaque fois que l’agent fait cette demande**.

🧠 Comme écrire : **“J’ai ouvert la trousse et regardé ce qu’il y avait dedans.”** 🖊️

---
#### ✅ 2. Quand l’agent **utilise un outil MCP**

“Appel de fonction”, ça veut dire :
➡️ **L’agent fait une vraie action** avec un outil, comme :

* Lire un fichier
* Créer un événement dans le planning
* Analyser une image de ton album 📸

📝 Et le tracing **note tout ça dans le journal**.

🧠 Le tracing garde une **trace précise de tout** : **ce que l’agent a fait**, **quand**, et **avec quel outil**.

---

### 🧰 Pourquoi c’est utile ?

Le tracing permet de :

* 📋 **Voir ce que l’agent a fait** (pratique si ça ne marche pas)
* 🔍 **Vérifier qu’il a utilisé les bons outils**
* 👨‍🔧 **Comprendre ses actions** pour apprendre ou **corriger un bug**.

---
### 🧩 Exemples d’usage du tracing

---

#### 🎮 Jeu éducatif

Le tracing montre **quand l’agent pose une question** ou **valide une réponse**.
📈 Utile pour suivre les **progrès de l’enfant**.

---

#### 💼 Appli de gestion de projets

Il note :

* “L’agent a ajouté une carte”
* “Il a déplacé une tâche”
  ⏰ Parfait pour **voir qui fait quoi et quand**.

---

#### 🧘‍♀️ Appli bien-être

Il enregistre :

* “Séance de respiration à 17h”
* “Suivi du sommeil à 22h”
  🌙 Ça aide à **suivre ses habitudes** et **mieux s’organiser**.


---

### 🧁 Résumé très simple

| Élément               | Ce que ça veut dire               | Image facile                          |
| --------------------- | --------------------------------- | ------------------------------------- |
| `examples/mcp`        | Exemples de projets tout prêts    | Une trousse d’école déjà remplie ✏️📚 |
| `tracing`             | Journal de ce que fait l’agent    | Un carnet secret du robot 🤖📖        |
| `list_tools()`        | L’agent regarde quels outils il a | Il ouvre la trousse                   |
| Appel de fonction MCP | L’agent utilise un outil          | Il prend un crayon pour écrire ✍️     |


---