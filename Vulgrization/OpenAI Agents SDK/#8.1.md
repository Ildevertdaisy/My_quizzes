
#1

---

### ğŸŒŸ **Câ€™est quoi le MCP (Model Context Protocol) ?**

Le **MCP**, câ€™est une **rÃ¨gle** ou un **langage commun** que les ordis et les applis utilisent pour bien discuter avec une **intelligence artificielle** (quâ€™on appelle aussi un **modÃ¨le de langage** ou LLM).

Un **modÃ¨le de langage** (comme ChatGPT), câ€™est un programme trÃ¨s malin qui sait **lire, comprendre et rÃ©pondre Ã  du texte**. Mais pour bien rÃ©pondre, il a besoin de **bons renseignements**. Et câ€™est lÃ  que le **MCP** est super utileâ€¯!


---

### ğŸ§ƒ Une analogie simple : Le MCP, câ€™est comme le port USB-C pour les IA

Tu vois le **port USB-C** (le petit trou sur les tÃ©lÃ©phones ou ordis) ? Il sert Ã  **brancher plein de trucs** comme un chargeur ğŸ”Œ ou une manette ğŸ®.
Le **MCP**, câ€™est pareil, mais pour les **IA** : Ã§a permet de **bien les connecter** avec les applis.

â¡ï¸ Le **port USB-C** est **toujours pareil**, peu importe la marque. Câ€™est un **standard** (une faÃ§on unique de se brancher facilement).

ğŸ‘‰ Le **MCP**, câ€™est pareil, mais pour **les intelligences artificielles** : Ã§a les aide Ã  se **connecter simplement** avec toutes les applis.


---

### ğŸ§  Ã€ quoi Ã§a sert ?

Le **MCP** aide une **IA** Ã  se **connecter facilement** Ã  des **outils** ou des **infos** dâ€™une application.


---

#### ğŸ“¸ Application de photos

Avec le **MCP**, une IA peut savoir **oÃ¹ a Ã©tÃ© prise une photo** (Ã  lâ€™Ã©cole, chez mamie) et **qui est dessus** (papa, ton chien ğŸ¶â€¦).
â¡ï¸ Elle peut alors **classer les photos** ou faire une **vidÃ©o souvenir** toute seule !

#### ğŸ“ Appli de tÃ¢ches

Avec le **MCP**, lâ€™IA peut voir ce que tu as **dÃ©jÃ  fait** âœ…, te **rappeler** ce que tu oublies â°, et tâ€™aider Ã  **mieux organiser ta journÃ©e** (comme : â€œfais tes devoirs avant la console ğŸ®â€).

---

#### ğŸµ Appli de musique

Lâ€™IA peut savoir les **chansons que tu aimes** ğŸ¶, et te faire une **playlist spÃ©ciale** (comme â€œmusique pour se concentrerâ€).

---

#### ğŸ›’ Appli de courses

Tu Ã©cris ta liste (â€œpÃ¢tesâ€, â€œlaitâ€ ğŸ§ƒ) et lâ€™IA, avec le MCP, peut te dire : â€œtu nâ€™as plus de cÃ©rÃ©ales !â€ ou â€œtu veux le mÃªme yaourt que la derniÃ¨re fois ?â€.

---

### ğŸ§© MCP = une piÃ¨ce qui relie tout

Le **MCP**, câ€™est comme une **piÃ¨ce de LEGO spÃ©ciale** ğŸ§± qui relie lâ€™**intelligence artificielle** avec le reste de lâ€™appli (les infos, les outils, les boutonsâ€¦).

ğŸ§  **Sans MCP**, chaque appli devrait **tout inventer toute seule**, et ce serait **trÃ¨s compliquÃ©**.

Avec le **MCP**, câ€™est **plus simple, plus rapide**, et **tout fonctionne mieux partout** !


---

### ğŸ§ RÃ©sumÃ© trÃ¨s simple

* Le **MCP** est un **langage universel** pour que les **IA parlent avec les applis**.
* Câ€™est comme un **port USB-C** : on branche tout facilement.
* Il aide lâ€™IA Ã  **comprendre les infos** pour mieux aider (classer, organiser, rÃ©pondreâ€¦).
* On sâ€™en sert dans plein dâ€™applis : **photos, tÃ¢ches, musique, courses** ğŸ“·ğŸ“ğŸµğŸ›’.


---

---

#2

---

### ğŸ¤– Câ€™est quoi le â€œAgents SDKâ€ ?

Un **SDK** (Software Development Kit), câ€™est une **boÃ®te Ã  outils pour les dÃ©veloppeurs**.
Elle contient des objets, des rÃ¨gles et des fonctions pour crÃ©er des **applications intelligentes**.

ğŸ§° Le **Agents SDK**, câ€™est une **boÃ®te spÃ©ciale** dâ€™OpenAI pour aider les programmeurs Ã  **crÃ©er des agents intelligents**.

Un **agent**, câ€™est comme un **petit robot dans lâ€™appli** qui peut **penser et agir pour toi**, un peu comme un **assistant intelligent**.

---

### ğŸ§  Et comment il utilise MCP ?

Le **Agents SDK** peut utiliser le **langage MCP** (comme le port USB-C des IA ğŸ”Œ), pour bien **connecter les agents intelligents** avec les applis.

ğŸ‘‰ GrÃ¢ce au **MCP**, les agents peuvent **se connecter facilement Ã  plein de serveurs**.
Un **serveur**, câ€™est comme un **ordi Ã  distance** avec des **outils, infos ou services**.

---
### ğŸ› ï¸ Que peut faire un agent ?

#### ğŸ“¦ Appli de livraison

Lâ€™agent peut parler au **serveur de la pizzeria** et au **serveur de gÃ©olocalisation**, puis te dire : â€œğŸš´ Ton livreur arrive dans 6 minutes !â€

---

#### ğŸ® Jeu vidÃ©o

Il peut voir ta **progression**, te donner une **astuce** (â€œEssaie lâ€™armure magique !â€) et **adapter la difficultÃ©** comme un coach ğŸ§™â€â™‚ï¸.

---

#### ğŸ¥ Appli de santÃ©

Il regarde ton **calendrier mÃ©dical** et ton **bracelet santÃ©**, puis te dit : â€œPrends ton mÃ©dicament aprÃ¨s le petit-dÃ©j !â€

---

#### ğŸ§¾ Appli dâ€™argent

Lâ€™agent voit ton **compte en banque**, tes dÃ©penses, et dit : â€œTu as dÃ©jÃ  mis 20â€¯â‚¬ en bonbons ğŸ¬, tu veux faire une pause ?â€


### ğŸ§© RÃ©sumÃ© simple avec images

* Le **Agents SDK**, câ€™est une **boÃ®te Ã  outils magique** pour crÃ©er des **assistants intelligents**.
* Ces assistants font **plein de choses utiles** dans une appli.
* Avec le **MCP** (la prise USB des IA ğŸ”Œ), ils peuvent **parler Ã  des serveurs** (pleins dâ€™infos ou dâ€™outils).
* RÃ©sultat : lâ€™agent **agit tout seul pour tâ€™aider**, comme un **assistant perso**.

---

âœ¨ **Imagine** : dans une seule appli, un agent pourrait **organiser tes vidÃ©os**, **te donner la mÃ©tÃ©o** â˜ï¸, ou **tâ€™aider Ã  apprendre lâ€™anglais** ğŸ‡¬ğŸ‡§â€¦
**Tout Ã§a grÃ¢ce au SDK + MCP** ğŸ§ ğŸ”ŒğŸ’¡.



#3


---

### ğŸŒ Câ€™est quoi un **serveur MCP** ?

Un **serveur**, câ€™est comme un **gros ordi sur Internet** qui peut **garder des infos**, **rÃ©pondre** ou **faire des actions pour toi**.

Dans le monde des **agents intelligents** ğŸ§ , les **serveurs MCP** sont les **ordinateurs qui donnent des infos ou des outils** pour aider les agents Ã  bien faire leur travail.

---

### ğŸ§­ Trois sortes de serveurs MCP

Il y a **3 types de serveurs MCP**, selon **comment lâ€™agent leur parle** â€” un peu comme **parler Ã  un ami** : en vrai, par SMS, ou sur Internet ğŸ“¡.

Voici les trois :

---

#### **1. Les serveurs stdio**

ğŸ–¥ï¸ Ils sont **dans ton appli directement**, comme un **outil dans ta trousse dâ€™Ã©cole** : toujours lÃ , prÃªt Ã  aider, **pas besoin dâ€™aller le chercher ailleurs**.

Le mot **â€œsubprocessâ€**, câ€™est quand le serveur est un **petit programme dans un plus gros**.
Et **â€œlocalementâ€**, Ã§a veut dire **sur ton appareil** (comme ton ordi ou ton tÃ©lÃ©phone).

ğŸ‘‰ **Exemple simple :**
Dans une appli de **dessin** ğŸ–Œï¸, un serveur stdio peut **reconnaÃ®tre les formes** (comme les carrÃ©s ou cercles) sans aller sur Internet, car il est **dÃ©jÃ  dans lâ€™appli**.

---

#### **2. Les serveurs HTTP over SSE**

ğŸŒ Ce sont des **serveurs loin de toi**, sur Internet.
Lâ€™agent leur parle avec une **adresse Web** (une **URL**), comme quand tu vas sur un site.

Le mot **HTTP**, câ€™est le **langage que les sites utilisent pour sâ€™envoyer des infos sur Internet**.

**SSE** (Server-Sent Events), câ€™est une **faÃ§on spÃ©ciale pour quâ€™un serveur envoie des messages Ã  lâ€™agent**, sans que lâ€™agent redemande tout le temps.

Câ€™est comme un **talkie-walkie** ğŸ™ï¸ qui **envoie un message tout seul dÃ¨s quâ€™il y a du nouveau**.

ğŸ‘‰ **Exemple simple :**
Dans une appli de **mÃ©tÃ©o** â˜€ï¸, un serveur Ã  distance peut tâ€™envoyer les **nouvelles infos** sur la pluie ou le soleil **dÃ¨s quâ€™il y a un changement**, sans recharger la page.

---

ğŸ’¡ Il existe un **3e type de serveur MCP**, mais on le verra **plus tard** si tu veux.

---

### ğŸ§© Pourquoi câ€™est utile ?

Tu choisis le **bon type de serveur MCP** selon ton besoin :

* Pas dâ€™Internet ? â†’ **Serveur stdio**, qui marche **sur ton appareil** ğŸ“¦.
* Besoin dâ€™infos du monde entier ? â†’ **Serveur HTTP over SSE**, qui va **chercher Ã  distance** ğŸŒ.

---
### ğŸ® Exemples dâ€™applis :

#### ğŸ“· Appli photo

* Le **serveur stdio** classe les photos par **visage ou lieu**.
* Le **serveur HTTP over SSE** ajoute des **filtres en ligne** ğŸ¨.

#### ğŸ›ï¸ Appli shopping

* Le **serveur stdio** fait une **liste rapide** de tes achats.
* Le **serveur HTTP over SSE** trouve les **prix Ã  jour** ou les **promos** ğŸ’¸.

#### ğŸ“š Appli dâ€™apprentissage

* Le **serveur stdio** corrige tes **phrases ou calculs** sans Internet.
* Le **serveur HTTP over SSE** envoie des **exercices adaptÃ©s** depuis ton Ã©cole.


---

### ğŸ§ RÃ©sumÃ© trÃ¨s simple

* Les **agents** sont des **petits assistants intelligents** ğŸ§ .
* Les **serveurs MCP** leur donnent des **outils ou infos utiles** ğŸ§°.
* Il y a **plusieurs types** selon **comment on leur parle** :

  * **stdio** : dans lâ€™appli, **sans Internet** ğŸ–¥ï¸.
  * **HTTP over SSE** : **Ã  distance**, via Internet ğŸŒ.
* On les trouve dans plein dâ€™applis : **mÃ©tÃ©o, photos, shopping, apprentissage** ğŸ“±ğŸ§©.


---



#4

---

### ğŸ§  Le troisiÃ¨me type de serveur MCP

Il existe un **troisiÃ¨me type** de serveur que les agents peuvent utiliser :

> **Streamable HTTP server**

Câ€™est un mot un peu compliquÃ©, alors on va **lâ€™expliquer petit Ã  petit** ğŸ˜Š.


---

### ğŸ“¦ 1. **Serveur** (server)

Un **serveur**, câ€™est un **gros ordi sur Internet** qui **garde des infos** ou **fait des choses** quand on lui demande.

Câ€™est comme un **magasin gÃ©ant** ğŸª oÃ¹ les agents vont **chercher ce quâ€™il leur faut**.


---

### ğŸŒ 2. **HTTP** (le langage du web)

**HTTP**, câ€™est un **langage dâ€™Internet** que les sites utilisent pour **parler avec les serveurs**.
Par exemple, ton tÃ©lÃ©phone lâ€™utilise quand tu regardes une **vidÃ©o YouTube** ou la **mÃ©tÃ©o**.

---

### ğŸ” 3. **Streamable** (Ã§a coule comme un robinet)

**Streamable** vient de **â€œstreamâ€**, qui veut dire **faire couler quelque chose en continu**, comme un **robinet ouvert**.

ğŸ‘‰ Comme un **robinet qui coule doucement**, un **streamable server** **envoie les infos petit Ã  petit**, sans attendre que tout soit prÃªt dâ€™un coup.

---

### ğŸ§© Comment Ã§a marche ?

Le **Streamable HTTP server** :

* est **Ã  distance** ğŸŒ,
* parle en **HTTP** (le langage dâ€™Internet),
* et **envoie les infos petit Ã  petit**, sans attendre la fin â³.

---

### ğŸ®ğŸ“± Exemples dans des vraies applis

#### ğŸ“º Appli de vidÃ©os en direct

Tu regardes un live ğŸ® : le **serveur streamable** envoie la vidÃ©o **au fur et Ã  mesure**, et lâ€™agent peut dÃ©jÃ  te **proposer d'autres vidÃ©os**.

---

#### ğŸ› ï¸ Appli de dÃ©pannage

Tu filmes ton lave-vaisselle ğŸ˜¬ : lâ€™agent voit la vidÃ©o **en direct**, et te **guide Ã©tape par Ã©tape**, sans attendre la fin.

---

#### ğŸ§¾ Appli de traduction en direct

Tu parles ğŸ™ï¸, le **serveur reÃ§oit ta voix en continu**, et lâ€™agent **traduit tes phrases tout de suite**, sans attendre que tu aies fini.

---

### ğŸ”§ Pourquoi câ€™est pratique ?

* Lâ€™agent **gagne du temps** : il commence **pendant que les infos arrivent**.
* Câ€™est super pour le **direct** : vidÃ©os, voix, ou voiture en mouvement ğŸš—.
* Parfait pour les agents qui doivent **rÃ©agir vite**, comme dans un **jeu ou une discussion**.

---
### ğŸ¯ RÃ©sumÃ© simple

| Terme          | Ce que Ã§a veut dire                                             |
| -------------- | --------------------------------------------------------------- |
| **Serveur**    | Un **gros ordi** qui aide ton appli                             |
| **HTTP**       | Le **langage dâ€™Internet** ğŸŒ                                    |
| **Streamable** | Qui **envoie petit Ã  petit**, comme un **robinet qui coule** ğŸš¿ |

ğŸ‘‰ Un **Streamable HTTP Server**, câ€™est :
**un serveur sur Internet**, qui **parle le langage du web** et **envoie les infos petit Ã  petit**.
Parfait pour tout ce qui **bouge vite ou change souvent** ! ğŸŒ€


---



#5

---

### ğŸ§  Ce que Ã§a dit

Pour **se connecter aux serveurs MCP**, on utilise des **objets spÃ©ciaux** :

* `MCPServerStdio` pour les serveurs dans lâ€™appli,
* `MCPServerSse` pour les serveurs Ã  distance en ligne,
* `MCPServerStreamableHttp` pour ceux qui **envoient petit Ã  petit**.

Ces noms sont un peu bizarres ğŸ˜…, mais ils sont **trÃ¨s utiles** : ils permettent Ã  lâ€™agent de **parler au bon serveur**, comme si tu choisissais **le bon tÃ©lÃ©phone pour appeler la bonne personne** ğŸ“.

---

### ğŸ§° Les trois types de serveurs

1. **`MCPServerStdio`** â†’ pour un **serveur local**, qui marche **dans ton appareil** ğŸ–¥ï¸
   (comme un **mini robot cachÃ©** dans ton appli, toujours prÃªt Ã  aider).

2. **`MCPServerSse`** â†’ pour un **serveur Ã  distance** ğŸŒ qui envoie les infos **en direct**,
   (comme recevoir un **message automatique**, sans le redemander).

3. **`MCPServerStreamableHttp`** â†’ pour un **serveur sur Internet** qui envoie les infos **petit Ã  petit** ğŸš¿
   (comme un **robinet qui coule**, parfait pour vidÃ©o, voix ou donnÃ©es en continu).

---
### ğŸ”§ Exemples simples

#### ğŸ“· Appli photo

* `MCPServerStdio` â†’ classe les photos **sans Internet** (pratique en avion âœˆï¸).
* `MCPServerSse` ou `MCPServerStreamableHttp` â†’ ajoute des **effets en ligne**.

---

#### ğŸ“‹ Appli de tÃ¢ches

* `MCPServerStdio` â†’ coche les tÃ¢ches **en local**.
* `MCPServerSse` â†’ te **rappelle un rendez-vous** via Google ğŸ“….
* `MCPServerStreamableHttp` â†’ suit ton **Ã©nergie en direct** avec un bracelet ğŸ’ª.

---

#### ğŸ® Jeu vidÃ©o

* `MCPServerStdio` â†’ connaÃ®t ta **partie actuelle**.
* `MCPServerSse` â†’ trouve **des astuces en ligne**.
* `MCPServerStreamableHttp` â†’ regarde ton jeu **en direct** et te **conseille en temps rÃ©el**.


### ğŸ§ RÃ©sumÃ© ultra simple

| Classe                    | Parle Ã â€¦                               | Exemple rapide                 |
| ------------------------- | -------------------------------------- | ------------------------------ |
| `MCPServerStdio`          | Un serveur **dans lâ€™appli** ğŸ–¥ï¸        | Trier des photos sans Internet |
| `MCPServerSse`            | Un serveur **en direct** ğŸŒ            | Rappel de rendez-vous          |
| `MCPServerStreamableHttp` | Un serveur **qui envoie doucement** ğŸš¿ | Traduire une voix en direct    |


---

### ğŸ“Œ Pourquoi câ€™est important ?

Ces trois classes sont **comme des prises** : tu choisis **celle quâ€™il faut selon le besoin** :

* Pour du **rapide et local** â†’ `MCPServerStdio`
* Pour une **info Ã  jour en ligne** â†’ `MCPServerSse`
* Pour des **donnÃ©es en continu** (audio, vidÃ©o) â†’ `MCPServerStreamableHttp`

---



#6

---

### ğŸ“„ Voici le code complet prÃ©sentÃ© :

```python
async with MCPServerStdio(
    params={
        "command": "npx",
        "args": ["-y", "@modelcontextprotocol/server-filesystem", samples_dir],
    }
) as server:
    tools = await server.list_tools()
```

---

### ğŸ§© Explication ligne par ligne, comme une histoire simple

---
#### ğŸ”¹ `async with MCPServerStdio(...) as server:`

â¡ï¸ Câ€™est comme dire : **"Jâ€™utilise un serveur stdio pour un moment, et tout sera bien rangÃ© Ã  la fin."**

* `async` : Ã§a veut dire **"fais-le sans bloquer le reste"**.
  ğŸ§  Comme **cuisiner en regardant un dessin animÃ©** : tu fais plusieurs choses en mÃªme temps.

* `with ... as server:` : câ€™est une **faÃ§on propre dâ€™utiliser quelque chose**, puis **de le refermer tout seul Ã  la fin**.
  ğŸ’¡ Comme **ouvrir un cahier, Ã©crire dedans, puis le refermer sans oublier**.

* `MCPServerStdio(...)` : câ€™est une **boÃ®te spÃ©ciale** (une **classe**) pour **parler Ã  un serveur local**,
  comme un **outil toujours prÃªt dans ta poche** ğŸ› ï¸.

* `as server` : on donne un **petit nom temporaire** au serveur pour **le rÃ©utiliser facilement**.
  ğŸ’ Comme dire : â€œJâ€™appelle ce sac **mon-sac**, et je lâ€™utilise avec ce nom.â€

---

#### ğŸ”¹ `params={ ... }`

â¡ï¸ Ce sont des **paramÃ¨tres** (des **rÃ©glages**) pour dire **comment dÃ©marrer le serveur**.
ğŸ’¡ Comme **expliquer comment allumer une machine** : quel bouton, quel mode, etc.

---

##### Ã€ lâ€™intÃ©rieur :

```python
"command": "npx"
```

* `"command"` : câ€™est **la commande Ã  lancer pour dÃ©marrer le serveur**.
  ğŸ›ï¸ Comme dire **quel bouton appuyer pour que la machine dÃ©marre**.

* `"npx"` : câ€™est un outil pour **lancer un programme sans lâ€™installer pour toujours**.
  ğŸ§ª Comme un **outil jetable**, utilisÃ© juste pour une tÃ¢che.

---

```python
"args": ["-y", "@modelcontextprotocol/server-filesystem", samples_dir]
```

* `"args"` veut dire **"arguments"** : ce sont les **petits dÃ©tails donnÃ©s Ã  la commande** pour lui dire **quoi faire exactement**.

ğŸ§¾ Câ€™est comme une **recette** : tu ne dis pas juste "fais un gÃ¢teau", mais aussi **"mets 2 Å“ufs, du lait et fais-le au chocolat"**.

Ã€ lâ€™intÃ©rieur de la liste, on a :

* `"-y"` : Ã§a veut dire **"oui, fais-le sans poser de questions"**.
  ğŸŸ¢ Comme dire : **"vas-y, fais tout sans me demander Ã  chaque Ã©tape"**.

* `"@modelcontextprotocol/server-filesystem"` : câ€™est **le nom du serveur Ã  lancer**.
  ğŸ“ Câ€™est un serveur pour **travailler avec des fichiers** : lire ou Ã©crire dans des **dossiers de ton ordi**.

* `samples_dir` : câ€™est un nom qui garde **le chemin vers un dossier dâ€™exemples**.
  ğŸ“‚ Comme dire : **"Va chercher les infos dans le dossier â€˜Ã©chantillonsâ€™."**

---

#### ğŸ”¹ `tools = await server.list_tools()`

â¡ï¸ **Ici, lâ€™agent demande au serveur : â€œQuels outils as-tu pour moi ?â€**

DÃ©composons tout :

* `tools =` : on crÃ©e une **boÃ®te virtuelle appelÃ©e "tools"** pour **garder les outils trouvÃ©s**.
  ğŸ§° Comme une **boÃ®te Ã  outils** quâ€™on prÃ©pare pour sâ€™en servir aprÃ¨s.

* `await` : Ã§a veut dire **"attends pendant que Ã§a travaille"**, mais **tu peux continuer dÃ¨s que câ€™est prÃªt**.
  â³ Comme dire : **â€œDemande un sandwich, mais ne reste pas bloquÃ© Ã  attendre devant.â€**

* `server.list_tools()` : on **demande au serveur stdio quels outils il a**.
  ğŸ› ï¸ Comme **ouvrir une trousse et voir quels stylos ou crayons sont dedans**.

---

### ğŸ¯ RÃ©sumÃ© trÃ¨s simple

ğŸ‘‹ â€œJe lance un **serveur dans mon appli** pour **travailler avec des fichiers**.
Je lâ€™ouvre avec **un outil temporaire (npx)**, je lui montre **oÃ¹ sont les exemples**,
et je lui demande : *Quels outils tu as ?*
Puis je **garde cette liste** pour mâ€™en servir plus tard.â€

---

### ğŸ“± Exemples dâ€™applis

#### ğŸ“‚ Appli de fichiers

Le serveur peut **explorer des dossiers** ou **chercher un devoir**.

#### ğŸ“ Appli de notes

Lâ€™agent trouve une note comme : â€œ*idÃ©e de jeu vidÃ©o* commencÃ©e la semaine derniÃ¨reâ€.

#### ğŸ‘©â€ğŸ³ Appli de recettes

Le serveur lit tes recettes, et lâ€™agent te dit : â€œTu veux refaire ta tarte au citron ? ğŸ‹â€

---



#7

---

### ğŸ§  En langage trÃ¨s simple

Cette partie montre **comment un agent intelligent** peut **utiliser un serveur MCP** pour faire des actions dans une appli, comme **rÃ©flÃ©chir et aider tout seul**.

Elle montre aussi **comment lâ€™agent dÃ©couvre les outils quâ€™il peut utiliser**,
et **comment il sâ€™en sert pour aider dans lâ€™appli** ğŸ“².

---

### ğŸ”§ Que veut dire â€œajouter des serveurs MCP Ã  un agentâ€ ?

Un **serveur MCP**, câ€™est comme un **atelier de bricolage** ğŸ› ï¸ rempli dâ€™**outils** (comme un marteau ou un crayon) que lâ€™agent peut utiliser.

Un **agent**, câ€™est comme un **bricoleur intelligent** ğŸ¤– dans une appli :
il **rÃ©flÃ©chit** et **utilise des outils** pour aider.

â¡ï¸ **Ajouter un serveur MCP Ã  un agent**, câ€™est comme **donner Ã  un bricoleur intelligent un atelier plein dâ€™outils utiles**.

---

### ğŸ” Que fait le SDK avec `list_tools()` ?

Le **SDK** (la boÃ®te Ã  outils pour agents) utilise `list_tools()` **chaque fois que lâ€™agent dÃ©marre**,
pour savoir **quels outils il peut utiliser**.

ğŸ§° `list_tools()` est une commande qui dit : **â€œServeur, montre-moi tous tes outils.â€**
ğŸ§  Comme si lâ€™agent ouvrait un **tiroir** et disait : **â€œQuâ€™est-ce que jâ€™ai aujourdâ€™hui ?â€**


â¡ï¸ Ã€ **chaque dÃ©marrage**, lâ€™agent demande :
**â€œQuels outils jâ€™ai Ã  dispo maintenant ?â€** ğŸ§°

Par exemple :

* Dans une **appli de recettes** ğŸ½ï¸ : lâ€™agent peut **lire une recette**, **ajouter un ingrÃ©dient**, ou **proposer un plat vÃ©gÃ©tarien**.
* Dans une **appli de budget** ğŸ’° : il peut **compter tes dÃ©penses**, **faire une prÃ©diction**, ou **prÃ©venir si tu dÃ©penses trop**.

---

### ğŸ’¡ Pourquoi câ€™est utile ?

GrÃ¢ce Ã  `list_tools()`, lâ€™agent sait **toujours ce quâ€™il peut faire**.
ğŸ¯ Si on ajoute un **nouvel outil** (comme un ouvre-boÃ®te ğŸ¥«), il le **voit tout seul** et peut sâ€™en servir.

---

### ğŸ›ï¸ Quand lâ€™agent utilise un outil

Quand le **cerveau de lâ€™agent** (le LLM) veut utiliser un outil, le **SDK** lance une commande spÃ©ciale : `call_tool()`.
ğŸ› ï¸ Câ€™est comme dire : **â€œOK, maintenant je prends cet outil et je mâ€™en sers !â€**

ğŸ‘‰ `call_tool()` veut dire **â€œutilise un outil maintenantâ€**.
ğŸ› ï¸ Comme si lâ€™agent disait : **â€œJâ€™ai besoin du tournevis â€” je le prends et je mâ€™en sers !â€**

---

### ğŸ® Exemples concrets

---

#### ğŸ“¦ Appli de magasin

Lâ€™agent voit ses outils (`list_tools()`) puis utilise `call_tool()` pour dire :
**â€œCommandons 10 boÃ®tes de crayons âœï¸.â€**

---

#### ğŸ§˜â€â™€ï¸ Appli de bien-Ãªtre

Lâ€™agent propose **une activitÃ© relaxante**, et si tu es stressÃ©, il lance `call_tool()` pour dÃ©marrer **un exercice de respiration** ğŸŒ¬ï¸.

---

#### ğŸ§¾ Appli de budget

Il regarde les outils (comme â€œanalyser les dÃ©pensesâ€), puis utilise `call_tool()` pour dire :
**â€œTu as dÃ©passÃ© ton budget repas cette semaine ğŸ”.â€**

---

### ğŸ RÃ©sumÃ© trÃ¨s facile

* â• On **ajoute des serveurs MCP** pour donner des **outils Ã  lâ€™agent**.
* ğŸ‘€ Lâ€™agent utilise **`list_tools()`** pour voir ce quâ€™il peut faire.
* ğŸ› ï¸ Il lance **`call_tool()`** pour utiliser un outil.
* âœ… RÃ©sultat : lâ€™agent est **plus malin et plus utile** dans plein de situations.

---



#8


---

### ğŸ“„ Le code prÃ©sentÃ© :

```python
agent = Agent(
    name="Assistant",
    instructions="Use the tools to achieve the task",
    mcp_servers=[mcp_server_1, mcp_server_2]
)
```

---

### ğŸ§© Ce que fait ce code

On est en train de **crÃ©er un agent intelligent** :

un **assistant virtuel** qui peut **rÃ©flÃ©chir et agir tout seul** dans une application.

---

#### ğŸ§  `agent = Agent(...)`

â¡ï¸ On crÃ©e un **nouvel agent**, et on lui donne un **nom, une mission et des outils**.

* `agent =` â†’ on **donne un nom** Ã  lâ€™agent quâ€™on fabrique.
  ğŸ“¦ Comme dire : â€œJe crÃ©e une boÃ®te magique et je lâ€™appelle `agent`.â€

* `Agent(...)` â†’ câ€™est la **commande pour crÃ©er un agent** avec des rÃ©glages.
  ğŸ§ª Comme dire : **â€œFabrique-moi un robot intelligent avec ces options.â€**

---

#### ğŸ’¬ `name="Assistant"`

â¡ï¸ On donne **un nom** Ã  lâ€™agent.

* `"Assistant"` â†’ câ€™est le **prÃ©nom du robot intelligent**.
  ğŸ§‘â€ğŸ’¼ Comme lâ€™appeler â€œLucieâ€ ou â€œRobyâ€, ici on dit juste **â€œAssistantâ€**.

Ce **nom sâ€™affiche dans lâ€™appli** pour montrer **qui parle ou agit**.

---

#### ğŸ“œ `instructions="Use the tools to achieve the task"`

â¡ï¸ On donne Ã  lâ€™agent une **mission claire** :

**â€œUtilise les outils pour faire la tÃ¢cheâ€**.

ğŸ”§ğŸ§  Câ€™est comme dire :

**â€œTu as une boÃ®te Ã  outils, utilise-la pour faire le travail.â€**

ğŸ—‚ï¸ Cette phrase **guide lâ€™agent** et lui dit quâ€™il peut **utiliser les outils quâ€™on lui a donnÃ©s**.

---

#### ğŸ§° `mcp_servers=[mcp_server_1, mcp_server_2]`

â¡ï¸ On connecte Ã  lâ€™agent **deux serveurs MCP** (des ateliers dâ€™outils numÃ©riques).

* `mcp_servers` â†’ câ€™est la **liste des serveurs** que lâ€™agent peut utiliser.
  ğŸ“¡ Comme des **coffres Ã  outils virtuels** quâ€™il peut ouvrir pendant quâ€™il travaille.

* `[mcp_server_1, mcp_server_2]` â†’ ce sont **deux serveurs diffÃ©rents**.
  ğŸ§³ğŸ§³ Comme si lâ€™agent avait **deux valises** :
* lâ€™une pour **organiser des fichiers**,
* lâ€™autre pour **envoyer des rappels ou lire la mÃ©tÃ©o**.


---

### ğŸ¯ RÃ©sumÃ© trÃ¨s simple

> â€œJe crÃ©e un assistant intelligent nommÃ© *Assistant*.
> Je lui dis dâ€™**utiliser ses outils pour faire les tÃ¢ches**.
> Je lui donne **deux serveurs MCP** remplis dâ€™outils spÃ©ciaux.â€


---
### ğŸ“± Exemples concrets

---

#### ğŸ“· Appli photo

Un agent aide Ã  **classer et envoyer les photos**.

* Serveur 1 : outil pour **reconnaÃ®tre les visages**.
* Serveur 2 : outil pour **trier par lieu ou date**.

---

#### ğŸ“š Appli pour les devoirs

Un agent **corrige, explique et crÃ©e des exercices**.

* Serveur 1 : outils de **correction**.
* Serveur 2 : outils pour **faire des quiz**.

---

#### ğŸ›ï¸ Appli de shopping

Un agent **trouve les promos**, **compare les produits** et **suit le budget**.

* Serveur 1 : outil pour **analyser les prix**.
* Serveur 2 : outil pour **gÃ©rer la liste de courses**.

---
### ğŸ§ RÃ©sumÃ© illustrÃ©

| Ã‰lÃ©ment              | Ce que Ã§a veut dire          | Image simple                               |
| -------------------- | ---------------------------- | ------------------------------------------ |
| `agent = Agent(...)` | On crÃ©e un agent intelligent | Comme fabriquer un petit robot qui aide ğŸ¤– |
| `name="Assistant"`   | On lui donne un nom          | Comme lâ€™appeler â€œBobâ€ ou â€œMimiâ€ ğŸ§‘â€ğŸ’¼      |
| `instructions=...`   | On lui donne une mission     | Comme lui dire quoi faire ğŸ¯               |
| `mcp_servers=[...]`  | On lui donne des outils      | Comme des coffres remplis de gadgets ğŸ§°    |

---



#9

---

### ğŸ§  Sujet de cette partie : **le "Caching"**

(ce mot vient de â€œcacheâ€, Ã  prononcer â€œcashâ€)

---

### ğŸ” Quâ€™est-ce que le â€œcacheâ€ ?

Un **cache**, câ€™est une **petite cachette dans lâ€™ordi** oÃ¹ on garde des infos pour **les retrouver plus vite plus tard**, au lieu dâ€™**aller les chercher Ã  chaque fois**.

ğŸ’ **Câ€™est comme garder ta trousse ouverte sur la table** au lieu de **chercher dans ton cartable Ã  chaque fois** que tu veux un stylo.

---

### ğŸ“¦ Que fait lâ€™agent au dÃ©marrage ?

Chaque fois quâ€™un **agent dÃ©marre**, il lance **`list_tools()`** pour demander au serveur :

**â€œQuels outils tu as aujourdâ€™hui ?â€** ğŸ§°

Mais si le serveur est **loin sur Internet** (serveur distant), Ã§a peut **prendre un peu de temps** â³.
Ce petit **temps dâ€™attente** sâ€™appelle la **latency**.

ğŸ•“ **Câ€™est comme demander une photo par la poste Ã  quelquâ€™un trÃ¨s loin â€” Ã§a met du temps Ã  arriver !**


---
### ğŸ’¡ Comment aller plus vite ? Avec le **cache** !

Au lieu de redemander la liste Ã  chaque fois, lâ€™agent peut **la garder en mÃ©moire**

et se dire : **â€œPas besoin de refaire tout le trajet, je lâ€™ai dÃ©jÃ  notÃ©e !â€** ğŸ§ ğŸ“¦

â¡ï¸ Pour aller plus vite, on peut activer le **cache** avec :

```python
cache_tools_list=True
```

ğŸ§  Ã‡a veut dire :
**â€œGarde la liste des outils en mÃ©moire pour ne pas redemander Ã  chaque fois.â€**

---

### ğŸ“ OÃ¹ ajouter ce rÃ©glage ?

On peut mettre `cache_tools_list=True` avec nâ€™importe quel **type de serveur MCP** :

* `MCPServerStdio` â†’ pour un serveur **dans lâ€™appli** ğŸ–¥ï¸
* `MCPServerSse` â†’ pour un serveur **Ã  distance en direct** ğŸŒ
* `MCPServerStreamableHttp` â†’ pour un serveur **qui envoie petit Ã  petit** ğŸš¿

Tu dis simplement :

> **â€œUtilise `cache_tools_list=True` si la liste dâ€™outils ne change pas.â€** âœ…


---

### âš ï¸ Attention importante

Utilise `cache_tools_list=True` **seulement si tu es sÃ»r que la liste ne changera pas**.

Sinon, si le serveur **ajoute ou enlÃ¨ve des outils**,

â¡ï¸ **lâ€™agent ne les verra pas**, car il regarde **lâ€™ancienne liste gardÃ©e en mÃ©moire**.

ğŸ“¦ **Câ€™est comme garder un vieux menu dans ta poche alors que le restaurant a changÃ© sa carte.**

---

### ğŸ¯ Exemples concrets dans des applications rÃ©elles

---
### ğŸ¯ Exemples concrets

---

#### ğŸ“š Appli de bibliothÃ¨que

Si les **livres changent rarement**, active le cache â†’ lâ€™agent dira plus vite si â€œHarry Potterâ€ est dispo ğŸ“–.

---

#### ğŸ§¾ Appli de tÃ¢ches mÃ©nagÃ¨res

Si la **liste dâ€™outils reste la mÃªme**, active le cache pour **rÃ©agir plus vite** chaque jour ğŸ§¼.

---

#### ğŸ›’ Appli de courses

Si les outils sont toujours les mÃªmes (â€œajouterâ€, â€œsupprimerâ€, â€œtrierâ€), active le cache.
ğŸ‘‰ Mais **si de nouveaux outils peuvent arriver**, alors **ne le fais pas**.

---
### ğŸ§ RÃ©sumÃ© simple avec images

| Terme                   | Ce que Ã§a veut dire                            | Image facile                                 |
| ----------------------- | ---------------------------------------------- | -------------------------------------------- |
| `cache`                 | Garde une info pour plus tard                  | Comme un **livre ouvert Ã  la bonne page** ğŸ“– |
| `latency`               | Petit temps dâ€™attente                          | Comme **attendre un colis** ğŸšš               |
| `cache_tools_list=True` | Active la mÃ©moire rapide des outils            | Comme **garder ta trousse ouverte** âœï¸       |
| âš ï¸ attention            | Ã€ utiliser seulement si la liste ne change pas | Sinon tu as **de vieilles infos** âŒğŸ“„        |

---


#10


---

### ğŸ§  Sujet de cette partie :

**Comment â€œviderâ€ le cache des outils si tu veux le mettre Ã  jour.**

---

### ğŸ§° Petit rappel

Le **cache**, câ€™est quand lâ€™agent **garde en mÃ©moire** la liste des outils dâ€™un serveur MCP
grÃ¢ce Ã  lâ€™option : `cache_tools_list=True`.

ğŸ§  Le **cache**, câ€™est comme une **fiche de rÃ©vision** : au lieu de **relire tout le cahier**, tu gardes les **infos importantes** dans une petite fiche pour **gagner du temps**.

---

### ğŸ“ Parfois, la fiche devient **trop vieille** ou **fausse**

Par exemple :

* Tu as ajoutÃ© un outil (ex : **â€œimprimer un documentâ€** ğŸ–¨ï¸)
* Ou tu as retirÃ© un outil (ex : **â€œjouer un son dâ€™alerteâ€**)

â¡ï¸ Alors, le cache **nâ€™est plus Ã  jour**.


Mais si lâ€™agent **utilise encore la vieille fiche (le cache)**, il ne verra **pas que les outils ont changÃ©** ğŸ˜•.

---

### ğŸ’¡ Que faire ?

Tu dois **effacer la vieille fiche**.

En informatique, on appelle Ã§a **â€œinvalider le cacheâ€** (Ã§a veut dire : **vider la mÃ©moire pour tout remettre Ã  jour**).

---

### ğŸ”§ La solution : `invalidate_tools_cache()`

Cette commande dit au serveur MCP :

> **â€œOublie lâ€™ancienne fiche dâ€™outils. On repart de zÃ©ro la prochaine fois.â€** ğŸ”

---

### ğŸ§ƒ Une analogie rigolote

Câ€™est comme dire Ã  ton cerveau :

ğŸ§  â¡ï¸ **â€œOublie ta fiche de rÃ©vision ! Le prof a changÃ© les leÃ§ons, on en refait une nouvelle.â€**

---

### ğŸ‘©â€ğŸ³ Exemples dans des **vraies applications**

---
### ğŸ‘©â€ğŸ³ Exemples concrets

---

#### ğŸ“¸ Appli photo

Tu ajoutes un outil pour **trier par couleur**, mais lâ€™agent ne le voit pas.
Tu fais `invalidate_tools_cache()` pour dire :
**â€œRegarde, il y a un nouvel outil magique !â€** ğŸ¨

---

#### ğŸ›’ Appli de courses

Un outil pour **produits bio** ğŸŒ± est ajoutÃ©.
Tu veux que lâ€™agent le voie â†’ tu fais `invalidate_tools_cache()` pour **mettre Ã  jour**.

---

#### ğŸ“… Appli de planning

Tu ajoutes â€œ**alerter papa**â€ ğŸ””.
Tu utilises `invalidate_tools_cache()` pour que lâ€™agent sache quâ€™il peut **prÃ©venir la famille**.

---
### ğŸ§ RÃ©sumÃ© tout simple

| Terme                          | Ce que Ã§a veut dire                           | Exemple facile                                       |
| ------------------------------ | --------------------------------------------- | ---------------------------------------------------- |
| **cache**                      | MÃ©moire rapide des outils du serveur          | Une **fiche de rÃ©vision** ğŸ“„                         |
| **invalidate\_tools\_cache()** | Vider cette mÃ©moire pour tout remettre Ã  jour | **Jeter la vieille fiche** pour en refaire une ğŸ—‘ï¸âœï¸ |

---

### âœ¨ Conclusion

* Si ton agent **utilise une vieille liste** et tu veux quâ€™il **voie les nouveautÃ©s**,
* Dis-lui **dâ€™oublier lâ€™ancienne** avec `invalidate_tools_cache()`.
* TrÃ¨s utile si tu as **ajoutÃ©, changÃ© ou supprimÃ© des outils** dans ton appli.

---



#11

---

### ğŸ§  Sujet de cette partie

1. Des **exemples complets** Ã  observer ou tester.
2. Le **tracing**, un mot compliquÃ© quâ€™on va **rendre super simple** ğŸ‘

---
## ğŸ”¹ 1. Exemples complets

Tu peux voir des **exemples qui fonctionnent vraiment** dans le dossier `examples/mcp`.
â¡ï¸ Câ€™est pratique pour **comprendre comment tout marche ensemble** :
agent + serveur MCP + outils + actions.

ğŸ§° **Câ€™est comme ouvrir une trousse dâ€™Ã©cole dÃ©jÃ  prÃªte** : tu vois **tous les outils bien rangÃ©s** (crayons, gomme, stylos) et tu apprends **comment tâ€™en servir dans une vraie situation**.


---

### ğŸ“± Exemples dans des applis du quotidien

#### ğŸ—‚ï¸ Appli de fichiers

Tu veux voir **comment un agent trie tes documents** ?
Lâ€™exemple montre tout : de la **crÃ©ation de lâ€™agent** jusquâ€™Ã  lâ€™outil qui **liste les fichiers**.

#### ğŸ§¾ Appli de tÃ¢ches

Tu veux voir **comment lâ€™agent ajoute une tÃ¢che ou envoie un rappel** ?
Regarde lâ€™exemple complet pour comprendre comment il **utilise un serveur MCP** pour faire Ã§a ğŸ§½ğŸ“….


---

## ğŸ”¹ 2. Le **tracing** (suivi des actions)

### ğŸ¯ Que veut dire â€œtracingâ€ ?

Le **tracing**, câ€™est quand lâ€™appli **note tout ce que lâ€™agent fait**, comme un **journal secret** ğŸ“.

ğŸ“– Exemple :
â†’ â€œÃ€ 14h03, jâ€™ai demandÃ© les outils.â€
â†’ â€œÃ€ 14h05, jâ€™ai utilisÃ© â€˜envoyer une alerteâ€™.â€

---

### ğŸ” Que note ce journal ? Deux choses :

#### âœ… 1. Quand lâ€™agent fait `list_tools()`

Lâ€™agent demande au serveur MCP :
â¡ï¸ **â€œQuels outils tu peux me prÃªter ?â€** ğŸ§°
Et le journal note ce moment.


Le tracing note **chaque fois que lâ€™agent fait cette demande**.

ğŸ§  Comme Ã©crire : **â€œJâ€™ai ouvert la trousse et regardÃ© ce quâ€™il y avait dedans.â€** ğŸ–Šï¸

---
#### âœ… 2. Quand lâ€™agent **utilise un outil MCP**

â€œAppel de fonctionâ€, Ã§a veut dire :
â¡ï¸ **Lâ€™agent fait une vraie action** avec un outil, comme :

* Lire un fichier
* CrÃ©er un Ã©vÃ©nement dans le planning
* Analyser une image de ton album ğŸ“¸

ğŸ“ Et le tracing **note tout Ã§a dans le journal**.

ğŸ§  Le tracing garde une **trace prÃ©cise de tout** : **ce que lâ€™agent a fait**, **quand**, et **avec quel outil**.

---

### ğŸ§° Pourquoi câ€™est utile ?

Le tracing permet de :

* ğŸ“‹ **Voir ce que lâ€™agent a fait** (pratique si Ã§a ne marche pas)
* ğŸ” **VÃ©rifier quâ€™il a utilisÃ© les bons outils**
* ğŸ‘¨â€ğŸ”§ **Comprendre ses actions** pour apprendre ou **corriger un bug**.

---
### ğŸ§© Exemples dâ€™usage du tracing

---

#### ğŸ® Jeu Ã©ducatif

Le tracing montre **quand lâ€™agent pose une question** ou **valide une rÃ©ponse**.
ğŸ“ˆ Utile pour suivre les **progrÃ¨s de lâ€™enfant**.

---

#### ğŸ’¼ Appli de gestion de projets

Il note :

* â€œLâ€™agent a ajoutÃ© une carteâ€
* â€œIl a dÃ©placÃ© une tÃ¢cheâ€
  â° Parfait pour **voir qui fait quoi et quand**.

---

#### ğŸ§˜â€â™€ï¸ Appli bien-Ãªtre

Il enregistre :

* â€œSÃ©ance de respiration Ã  17hâ€
* â€œSuivi du sommeil Ã  22hâ€
  ğŸŒ™ Ã‡a aide Ã  **suivre ses habitudes** et **mieux sâ€™organiser**.


---

### ğŸ§ RÃ©sumÃ© trÃ¨s simple

| Ã‰lÃ©ment               | Ce que Ã§a veut dire               | Image facile                          |
| --------------------- | --------------------------------- | ------------------------------------- |
| `examples/mcp`        | Exemples de projets tout prÃªts    | Une trousse dâ€™Ã©cole dÃ©jÃ  remplie âœï¸ğŸ“š |
| `tracing`             | Journal de ce que fait lâ€™agent    | Un carnet secret du robot ğŸ¤–ğŸ“–        |
| `list_tools()`        | Lâ€™agent regarde quels outils il a | Il ouvre la trousse                   |
| Appel de fonction MCP | Lâ€™agent utilise un outil          | Il prend un crayon pour Ã©crire âœï¸     |


---