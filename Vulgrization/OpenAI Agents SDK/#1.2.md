
#1


---

## ğŸš€ DÃ©marrage rapide : Fabrique ton petit cerveau magique

Pour crÃ©er ton **assistant intelligent** (un mini cerveau qui aide ton appli Ã  rÃ©flÃ©chir ou rÃ©pondre), tu dois dâ€™abord lui construire une **maison bien rangÃ©e**. Câ€™est comme prÃ©parer ton sac pour une grande aventure ğŸ§³.

Tu fais Ã§a **une seule fois au dÃ©but**, et aprÃ¨s, ton assistant est prÃªt Ã  tâ€™aider tout le temps !

---

## ğŸš€ DÃ©marrage rapide : Construis ton assistant magique

### ğŸ§± Ã‰tape 1 : Fabrique ton cartable magique

```bash
mkdir my_project
```

ğŸ‘‰ `mkdir` veut dire **"make directory"** (crÃ©er un dossier).
ğŸ‘‰ `my_project`, câ€™est le **nom du dossier** (comme un **cartable** magique).

ğŸ’ Câ€™est comme prendre une **boÃ®te vide** pour y ranger tout ce quâ€™il faut pour ton assistant.


---

### ğŸšª Ã‰tape 2 : Rentre dans la boÃ®te magique

```bash
cd my_project
```

ğŸ‘‰ `cd` veut dire **"change directory"** (va dans le dossier).
ğŸ‘‰ `my_project`, câ€™est le **nom du dossier** que tu viens de crÃ©er.

ğŸ§­ Câ€™est comme ouvrir ta **boÃ®te magique** et tâ€™y installer pour commencer Ã  bricoler.


---

### ğŸ§ª Ã‰tape 3 : CrÃ©e une bulle magique pour ton assistant

```bash
python -m venv .venv
```

ğŸ‘‰ On fabrique une **bulle spÃ©ciale** (environnement virtuel) pour que ton assistant apprenne tranquille.

* `python` : le **langage magique** (langage pour parler Ã  lâ€™ordi).
* `-m` : **utiliser un module** (outil spÃ©cial).
* `venv` : le module qui crÃ©e une **bulle magique** (coin tranquille).
* `.venv` : le **nom de la bulle** (le point veut dire quâ€™elle est **cachÃ©e**).

ğŸ§ƒ Câ€™est comme une **salle dâ€™entraÃ®nement secrÃ¨te** ğŸ¥‹ rien que pour lui.


---

### ğŸ§© Pourquoi on fait Ã§a ?

Si tu veux crÃ©er un assistant pour :

* une appli qui **range tes photos** ğŸ“¸,

il lui faut une **bonne base** pour apprendre.

ğŸ‘‰ Il a besoin dâ€™un **endroit propre et sÃ»r** pour **apprendre, tester et marcher sans casser ton ordi**.

---

### âœ… RÃ©sumÃ© magique :

| Ã‰tape | Ce que tu fais         | Pourquoi                                        |
| ----- | ---------------------- | ----------------------------------------------- |
| 1ï¸âƒ£   | `mkdir my_project`     | Tu crÃ©es un **cartable vide** ğŸ§³                |
| 2ï¸âƒ£   | `cd my_project`        | Tu **rentrres** dans le cartable ğŸ“‚             |
| 3ï¸âƒ£   | `python -m venv .venv` | Tu fais une **salle secrÃ¨te pour apprendre** ğŸ§ª |


---



#2


---

## ğŸ§¼ Ã‰tape suivante : Allume la salle magique

Tu as crÃ©Ã© une **bulle spÃ©ciale** (environnement virtuel).

ğŸ‘‰ Chaque fois que tu ouvres une nouvelle fenÃªtre, tu dois **la rallumer**.

Câ€™est comme **rÃ©veiller ton assistant** ou **rentrer dans sa salle secrÃ¨te** ğŸ¤«.

---

### ğŸ’¡ La commande magique

```bash
source .venv/bin/activate
```

---

### ğŸ“¢ `source`

* Ã‡a veut dire **"lis et fais ce quâ€™il y a dans ce fichier spÃ©cial"**.
* Câ€™est comme ouvrir un **manuel magique** pour activer ton assistant âœ¨.

---

### ğŸ“‚ `.venv/bin/activate`

Câ€™est **lâ€™adresse magique** pour allumer la bulle.

* `.venv` â†’ la **bulle secrÃ¨te** (cachÃ©e).
* `bin` â†’ un **tiroir** Ã  outils.
* `activate` â†’ le **bouton magique** pour **tout dÃ©marrer**.

ğŸ”Œ Câ€™est comme ouvrir le **bon tiroir** et appuyer sur un **gros bouton rouge** ğŸš¨.


---

### ğŸ® Pourquoi le refaire Ã  chaque fois ?

La **bulle magique** (environnement virtuel) **sâ€™Ã©teint** quand tu fermes lâ€™ordi ou le terminal.

ğŸ‘‰ Tu dois **la rallumer Ã  chaque fois** pour que ton assistant marche bien.

ğŸ¯ Comme dans un **jeu vidÃ©o**, tu dois **charger ta partie** pour continuer lâ€™aventure.

---

### âœ… RÃ©sumÃ© super simple :

| Ã‰tape | Ce que tu fais              | Pourquoi                                                          |
| ----- | --------------------------- | ----------------------------------------------------------------- |
| âš¡     | `source .venv/bin/activate` | Tu **rallumes la salle secrÃ¨te** pour que ton assistant tâ€™aide ğŸ¤– |

---

        


#3


---

## ğŸ§° Ã‰tape 4 : Installe le kit magique

Pour que ton assistant ait ses **pouvoirs**, tu dois lui donner une **boÃ®te Ã  outils magique** (appelÃ©e **SDK**).

Commande magique :

```bash
pip install openai-agents  # ou `uv add openai-agents`
```

ğŸ‘‰ Le SDK (kit pour dÃ©veloppeurs) dit Ã  ton assistant **quoi faire** pour tâ€™aider.

### ğŸ” DÃ©composons la commande :

#### ğŸ§ª `pip`

* Câ€™est un **robot installateur** pour Python.
* Il va chercher des outils et les **ajoute dans ton projet**.

ğŸ“¦ Câ€™est comme un **lutin** qui ramÃ¨ne un **jouet magique** dans ta salle dâ€™entraÃ®nement.


#### ğŸ”§ `install`

* Dit Ã  `pip` : **"installe ce paquet magique"** dans ton projet.

#### ğŸ“¦ `openai-agents`

* Câ€™est le **paquet magique** avec les **outils de ton assistant intelligent**.
* Il lui permet de **rÃ©flÃ©chir, rÃ©pondre, chercher des infos**, etc.


### ğŸ§™ Autre faÃ§on magique :

```bash
uv add openai-agents
```

* `uv` : un **autre robot installateur**, souvent plus rapide.
* `add` : veut dire **"ajouter"**, comme `install`.

ğŸ‘€ Tu choisis **un seul des deux** : `pip` ou `uv`. Pas les deux en mÃªme temps.


---

## ğŸ” Ã‰tape 5 : Donne une clÃ© magique Ã  ton assistant

Ton assistant ne peut pas **parler avec OpenAI** (le cerveau dans le nuage â˜ï¸) sans sa **clÃ© magique** (API key).

Commande magique :

```bash
export OPENAI_API_KEY=sk-...
```

### ğŸ” On dÃ©code :

#### ğŸ“¢ `export`

* Ã‡a veut dire : **"dis Ã  lâ€™ordi de retenir une info importante"**.
* Lâ€™info sera **utilisÃ©e partout dans la bulle magique**.


#### ğŸ” `OPENAI_API_KEY`

* Câ€™est le **nom de lâ€™info** quâ€™on garde.
* Câ€™est une **clÃ© secrÃ¨te** pour que ton assistant **parle avec le QG dâ€™OpenAI**.

#### ğŸ§© `=sk-...`

* Câ€™est la **vraie clÃ© secrÃ¨te** (elle commence par `sk-`, comme *secret key*).
* Tu ne dois **jamais la montrer** : quelquâ€™un pourrait utiliser ton assistant sans toi !

ğŸ•µï¸â€â™€ï¸ Câ€™est comme une **clÃ© pour entrer dans une bibliothÃ¨que magique** ğŸ“š. Sans elle, ton assistant reste dehors.


---

### ğŸ“ Si tu nâ€™as pas de clÃ©â€¦

Tu peux **suivre les Ã©tapes** pour en crÃ©er une.

Câ€™est comme **tâ€™inscrire pour recevoir ta propre clÃ© secrÃ¨te** ğŸ—ï¸.


---

### âœ… RÃ©sumÃ© de cette partie :

| Ã‰tape | Ce que tu fais                 | Pourquoi                                                         |
| ----- | ------------------------------ | ---------------------------------------------------------------- |
| ğŸ§°    | `pip install openai-agents`    | Tu **donnes des pouvoirs magiques** Ã  ton assistant              |
| ğŸ”    | `export OPENAI_API_KEY=sk-...` | Tu **lui donnes la clÃ© secrÃ¨te** pour parler avec le QG (OpenAI) |



---

ğŸ¥³ Bravo ! Ton assistant est presque prÃªt :

* Il a sa **salle dâ€™entraÃ®nement** (`.venv`),
* son **matÃ©riel magique** (`openai-agents`),
* et sa **clÃ© secrÃ¨te** (`OPENAI_API_KEY`) pour parler avec la grande base de connaissances.



#4

Parfait ! On continue la mission pour crÃ©er un assistant intelligent ğŸ§  dans une appli comme :

* un jeu avec un petit guide qui tâ€™explique les rÃ¨gles ğŸ².

Maintenant, on va crÃ©er notre tout **premier assistant**, appelÃ© un **agent** (un petit personnage intelligent quâ€™on programme pour savoir quoi faire !).

---

## ğŸ¤– Ã‰tape 6 : CrÃ©er ton premier agent (ton assistant personnalisÃ©)

Voici le **code complet** :

```python
from agents import Agent

agent = Agent(
    name="Math Tutor",
    instructions="You provide help with math problems. Explain your reasoning at each step and include examples",
)
```
---

### ğŸ“¦ `from agents import Agent`

* `from agents` â†’ **Va chercher dans la boÃ®te dâ€™outils** appelÃ©e `agents` (module = boÃ®te dâ€™outils dÃ©jÃ  prÃªte).
* `import Agent` â†’ **Je veux utiliser lâ€™outil** appelÃ© `Agent`.

ğŸ‘‰ `Agent`, câ€™est **le petit personnage intelligent** quâ€™on va crÃ©er.

ğŸ§° Câ€™est comme ouvrir une trousse et prendre **le stylo rouge** `Agent` pour Ã©crire avec.


---

### ğŸ›  `agent = Agent(...)`

* `agent =` â†’ On **donne un nom** Ã  notre petit personnage (ici, `agent`).
* `Agent(...)` â†’ On **le fabrique** avec la boÃ®te `Agent`, en lui donnant ses **caractÃ©ristiques**.


---

### ğŸ‘¤ `name="Math Tutor"`

* `name` â†’ Câ€™est le **nom de lâ€™assistant**. Ici, on lâ€™appelle `"Math Tutor"` (prof de maths).

ğŸ“› Câ€™est comme lui coller une **Ã©tiquette** avec marquÃ© : â€œProf de mathsâ€.

---

### ğŸ§¾ `instructions="You provide help with math problems..."`

* `instructions` â†’ Câ€™est **la mission de lâ€™agent**.
* Le texte dit : **aide en maths**, **explique les Ã©tapes**, et **donne des exemples**.

ğŸ“ Câ€™est comme lui donner un **manuel** : Â« Sois clair, montre les Ã©tapes, donne des exemples. Â»

---

### ğŸ“Œ RÃ©sumÃ© clair :

| Code                       | Ce que Ã§a fait                           | Petit exemple                 |
| -------------------------- | ---------------------------------------- | ----------------------------- |
| `from agents import Agent` | Tu ouvres une boÃ®te spÃ©ciale             | Comme sortir un jouet magique |
| `agent = Agent(...)`       | Tu crÃ©es un petit personnage intelligent | Comme fabriquer un mini prof  |
| `name="Math Tutor"`        | Tu lui donnes un nom                     | Ã‰tiquette : "Prof de maths"   |
| `instructions=...`         | Tu lui donnes sa mission                 | Petit manuel pour lâ€™aider     |



---

### ğŸ¯ Exemples concrets :

* Dans un jeu ğŸ® : ton agent **explique les rÃ¨gles**.
* Dans une appli de dessin ğŸ¨ : il **montre comment dessiner un dragon** ğŸ‰.


---
     


#5

Super, on continue Ã  crÃ©er des **assistants intelligents** ğŸ§  pour aider dans la vraie vie, comme :

* un agent qui **explique lâ€™histoire** dans une appli ğŸ“º.

Maintenant, on va crÃ©er **plusieurs agents**, chacun **spÃ©cialisÃ© dans une matiÃ¨re**, comme des **profs diffÃ©rents dans une Ã©cole** ğŸ‘©â€ğŸ«ğŸ‘¨â€ğŸ«.


---

## ğŸ‘¯â€â™‚ï¸ Ã‰tape 7 : Ajouter plusieurs assistants (plusieurs "agents")

Voici le **code complet** :

```python
from agents import Agent

history_tutor_agent = Agent(
    name="History Tutor",
    handoff_description="Specialist agent for historical questions",
    instructions="You provide assistance with historical queries. Explain important events and context clearly.",
)

math_tutor_agent = Agent(
    name="Math Tutor",
    handoff_description="Specialist agent for math questions",
    instructions="You provide help with math problems. Explain your reasoning at each step and include examples",
)
```

---

### ğŸ“¦ `from agents import Agent`

* Cette ligne dit : **"Va chercher la boÃ®te `agents` et prends lâ€™outil `Agent`."**
* `Agent`, câ€™est le **modÃ¨le** pour crÃ©er chaque petit assistant.

ğŸ’ Câ€™est comme ouvrir une **boÃ®te magique** et sortir plusieurs **figurines** prÃªtes Ã  devenir des assistants diffÃ©rents ğŸ§©.


---

### ğŸ‘¤ `history_tutor_agent = Agent(...)`

On **crÃ©e un agent spÃ©cial** pour rÃ©pondre Ã  des questions dâ€™**histoire**.

* `history_tutor_agent` â†’ Câ€™est le **nom de lâ€™assistant**, ici le "prof dâ€™histoire".
* `Agent(...)` â†’ On **le fabrique** avec ses infos, comme une recette.


#### Ã€ lâ€™intÃ©rieur :

##### ğŸ· `name="History Tutor"`

* Câ€™est **le nom officiel** de lâ€™agent, comme une **Ã©tiquette**.

##### ğŸ“¢ `handoff_description="Specialist agent for historical questions"`

* Une **courte description** pour dire quâ€™il **rÃ©pond aux questions dâ€™histoire**.

ğŸ§­ Câ€™est comme un **badge sur sa chemise** : â€œMoi, je suis **expert en histoire** !â€ ğŸ›ï¸


##### ğŸ“˜ `instructions="You provide assistance with historical queries..."`

* Câ€™est le **mode dâ€™emploi** de lâ€™agent : il doit **aider pour les questions dâ€™histoire**,
* et **expliquer les Ã©vÃ©nements** avec le **contexte** (donner les dÃ©tails pour comprendre).



---

### â• DeuxiÃ¨me agent : `math_tutor_agent = Agent(...)`

* `math_tutor_agent` â†’ Câ€™est lâ€™assistant pour les **maths**.
* Il a aussi un `name` (nom), une `handoff_description` (petite prÃ©sentation) et des `instructions` (sa mission).

#### Les consignes pour lui :

```python
instructions="You provide help with math problems..."
```

ğŸ“ On lui dit :

> "Tu aides pour les **problÃ¨mes de maths**, tu expliques **Ã©tape par Ã©tape**, et tu donnes **des exemples**."

ğŸ§® Câ€™est comme un prof qui **montre chaque Ã©tape**, un peu comme une **vidÃ©o tuto** ğŸ“¹.

---

### ğŸ” `handoff_description` ?

Câ€™est une **petite description pour passer la main**.

* Quand il y a **plusieurs agents**, elle aide Ã  **choisir le bon**.
* Exemple : â€œCapitale de la GrÃ¨ce ?â€ â†’ on lâ€™envoie **au prof dâ€™histoire**.

ğŸ§‘â€âš•ï¸ğŸ‘· Câ€™est comme Ã  lâ€™hÃ´pital : chaque docteur dit **ce quâ€™il fait**, pour **envoyer au bon spÃ©cialiste**.


---

## âœ… RÃ©sumÃ© des deux agents :

| Agent                 | Nom               | RÃ´le     | Mission                       |
| --------------------- | ----------------- | -------- | ----------------------------- |
| `history_tutor_agent` | `"History Tutor"` | Histoire | Expliquer les Ã©vÃ©nements      |
| `math_tutor_agent`    | `"Math Tutor"`    | Maths    | Aider avec Ã©tapes et exemples |

---

ğŸ¯ Exemples concrets :

* Une appli scolaire avec **un agent par matiÃ¨re** ğŸ“±
* Un assistant qui **tâ€™aide pour tes devoirs** âœï¸



---
        


#6

Super, on continue lâ€™aventure des assistants intelligents ğŸ¤– !

Cette fois, on crÃ©e un **agent de tri** : un personnage qui **Ã©coute la question** et lâ€™**envoie au bon assistant** ğŸ“¬.

ğŸ¯ Exemple : comme Ã  lâ€™entrÃ©e dâ€™une infirmerie ğŸ¥ :
â€” Â« Mal au ventre ? Va voir le bon docteur ! Â»


---

## ğŸ¤ Ã‰tape 8 : DÃ©finir les "hand-offs" (ou passages de relais entre assistants)

Voici le **code complet** :

```python
triage_agent = Agent(
    name="Triage Agent",
    instructions="You determine which agent to use based on the user's homework question",
    handoffs=[history_tutor_agent, math_tutor_agent]
)
```

---
### ğŸ§  `triage_agent = Agent(...)`

* On crÃ©e un **nouvel agent intelligent** appelÃ© `triage_agent`.
* Sa mission : **Ã©couter les questions** et **envoyer vers le bon assistant**.

ğŸ‘‚ Câ€™est comme un **rÃ©ceptionniste Ã  lâ€™Ã©cole** qui dit :
Â« Pour les maths, va voir Monsieur Math. Pour lâ€™histoire, va voir Madame Histoire. Â»

---

### ğŸ· `name="Triage Agent"`

* Câ€™est le **nom de lâ€™agent**.
* `"Triage Agent"` veut dire : **celui qui trie les questions** et **les envoie au bon assistant**.

ğŸ“ Exemple : Dans une appli de devoirs, il **Ã©coute la question** et **choisit le bon prof virtuel**.

---

### ğŸ“– `instructions="You determine which agent to use..."`

* Ce sont les **consignes du triage agent**.
* Il doit **lire la question** et **envoyer au bon assistant**.

ğŸ” Exemple : Comme un **chef dâ€™Ã©quipe** qui **organise le travail** sans tout faire lui-mÃªme.



---

### ğŸ”„ `handoffs=[history_tutor_agent, math_tutor_agent]`

* `handoffs` veut dire **"passages de relais"**.
* Câ€™est la **liste des agents** Ã  qui le triage agent peut **donner une question**.

ğŸ‘‹ Exemple : Â« Tu peux envoyer la question Ã  lâ€™**agent dâ€™histoire** ou lâ€™**agent de maths**. Â»

ğŸ§° Si tu demandes : Â« Quelle est la capitale du Canada ? Â»
â†’ Le `triage_agent` **passe la question Ã  lâ€™agent dâ€™histoire**, pas Ã  celui de maths.

---

### ğŸ§© Pourquoi câ€™est utile ?

* Dans une appli de devoirs ğŸ“š : lâ€™agent de tri **choisit le bon prof**.
* Dans une appli santÃ© ğŸ¤’ : il tâ€™envoie **vers lâ€™agent nutrition ou sport**.


---

## âœ… RÃ©sumÃ© simple :

| Code                        | Ce que Ã§a fait                      | Petit exemple                      |
| --------------------------- | ----------------------------------- | ---------------------------------- |
| `triage_agent = Agent(...)` | CrÃ©e lâ€™agent de tri                 | Un rÃ©ceptionniste dâ€™Ã©cole          |
| `name="Triage Agent"`       | Donne son nom                       | Une Ã©tiquette sur son t-shirt ğŸ‘•   |
| `instructions=...`          | Explique sa mission                 | Un chef qui rÃ©partit le travail    |
| `handoffs=[...]`            | Liste des agents quâ€™il peut appeler | Ses collÃ¨gues Ã  qui passer la main |


---

ğŸ‰ Bravo ! Tu as maintenant une **Ã©quipe dâ€™agents intelligents** :

* Un **prof dâ€™histoire** ğŸ›ï¸
* Un **prof de maths** â•â–
* Et un **chef dâ€™orchestre** qui les organise ğŸ§‘â€âœˆï¸




#7

Parfait ! ğŸŒŸ Tu as :

* un **prof dâ€™histoire** ğŸ›ï¸
* un **prof de maths** â—
* un **chef dâ€™Ã©quipe** ğŸ§‘â€âœˆï¸

Il est temps de **lancer la mission** et appuyer sur **â€œDÃ©marrerâ€** pour voir si tout fonctionne ensemble !


---

## ğŸš€ Ã‰tape 9 : Faire tourner lâ€™orchestre des agents

On va **lancer le systÃ¨me** pour voir si le **chef dâ€™Ã©quipe** (`triage_agent`) comprend bien la question et **envoie le travail au bon agent** (ex : au prof dâ€™histoire si câ€™est une question dâ€™histoire).

Voici le **code complet** :

```python
from agents import Runner

async def main():
    result = await Runner.run(triage_agent, "What is the capital of France?")
    print(result.final_output)
```

---

### ğŸ“¦ `from agents import Runner`

* Cette ligne dit : **"Va chercher lâ€™outil `Runner` dans la boÃ®te `agents`."**
* `Runner` est une **boÃ®te spÃ©ciale** qui **fait fonctionner tous les agents ensemble**.

ğŸƒâ€â™€ï¸ Câ€™est comme un **coach sportif** qui **lance la course** et dit Ã  chacun **quoi faire**.


---

### ğŸ§  `async def main():`

* `def` â†’ **Je crÃ©e une fonction** (une petite machine qui fait un truc).
* `main` â†’ Câ€™est la **fonction principale**, celle qui **lance tout**.
* `async` â†’ Elle peut **attendre**, comme quand on **attend une rÃ©ponse** dâ€™un assistant.

â³ Câ€™est comme une machine qui **fait une pause** pendant quâ€™elle **attend quelque chose**.

---

### ğŸ§¾ `result = await Runner.run(triage_agent, "What is the capital of France?")`

#### ğŸ“© `Runner.run(...)`

* On dit Ã  `Runner` de **lancer le systÃ¨me**.
* Il prend :

  1. `triage_agent` â†’ lâ€™**agent chef**,
  2. une **question** : `"What is the capital of France?"`.

ğŸ§‘â€ğŸ« Exemple : Lâ€™Ã©lÃ¨ve demande la capitale â†’ lâ€™agent chef comprend que câ€™est **de lâ€™histoire**
â†’ il envoie la question au **prof dâ€™histoire** pour rÃ©pondre.


#### â³ `await`

* Ã‡a veut dire : **"attends la rÃ©ponse avant de continuer"**.
* Utile quand la rÃ©ponse **prend un petit moment** (comme quand quelquâ€™un rÃ©flÃ©chit).

â²ï¸ Exemple :
Â« Je pose la question et **jâ€™attends tranquillement** la rÃ©ponse avant de continuer. Â»


---

### ğŸ–¨ï¸ `print(result.final_output)`

* `print(...)` â†’ **Montre la rÃ©ponse Ã  lâ€™Ã©cran**.
* `result.final_output` â†’ Câ€™est **la rÃ©ponse finale** de lâ€™agent choisi.

ğŸ“º Exemple : Câ€™est comme **regarder lâ€™Ã©cran** pour voir ce que **le prof te rÃ©pond**.


---

## âœ… RÃ©sumÃ© simple :

| Code                         | Ce que Ã§a fait                      | Petit exemple                        |
| ---------------------------- | ----------------------------------- | ------------------------------------ |
| `from agents import Runner`  | Appelle le **chef dâ€™orchestre**     | On prÃ©pare celui qui lance tout ğŸ¼   |
| `async def main():`          | CrÃ©e la **fonction principale**     | Une machine qui **peut attendre** ğŸ“® |
| `await Runner.run(...)`      | Lance le **chef avec une question** | On donne une **mission au chef**     |
| `print(result.final_output)` | Montre la **rÃ©ponse Ã  lâ€™Ã©cran**     | On lit ce que le **prof rÃ©pond** ğŸ“±  |


---

## ğŸ¯ Exemple dans une vraie appli :

* Lâ€™enfant Ã©crit : **"Câ€™est quoi la capitale de la France ?"**
* Le `triage_agent` voit que ce nâ€™est **pas des maths**
* Il **envoie la question au prof dâ€™histoire**
* Le prof rÃ©pond : **"La capitale de la France est Paris."**
* Lâ€™appli **affiche la rÃ©ponse Ã  lâ€™enfant** ğŸ‰


---



#8

Parfait ! ğŸ‰ On passe Ã  une nouvelle Ã©tape : **ajouter des garde-fous** (*guardrails*).

Un **garde-fou**, câ€™est comme une **barriÃ¨re de sÃ©curitÃ©** ğŸ›£ï¸ :
Il ne conduit pas, mais il **empÃªche de sortir de la route**.

Dans ton appli, un *guardrail* :

* **vÃ©rifie ce que dit lâ€™assistant**,
* ou **ce que demande lâ€™utilisateur**,
  pour que **tout reste correct et adaptÃ©**.


---

## ğŸ›¡ï¸ Ã‰tape 10 : Ajouter un garde-fou (guardrail)

Voici le **code complet** :

```python
from agents import GuardrailFunctionOutput, Agent, Runner
from pydantic import BaseModel

class HomeworkOutput(BaseModel):
    is_homework: bool
    reasoning: str

guardrail_agent = Agent(
    name="Guardrail check",
    instructions="Check if the user is asking about homework.",
    output_type=HomeworkOutput,
)
```

---

### ğŸ§° `from agents import GuardrailFunctionOutput, Agent, Runner`

* Cette ligne dit : **"Je prends trois outils de la boÃ®te `agents`"** :

  * `GuardrailFunctionOutput` â†’ pour **mettre un garde-fou**,
  * `Agent` â†’ pour **crÃ©er un assistant**,
  * `Runner` â†’ pour **faire tourner les agents**.

ğŸ“¦ Câ€™est comme **sortir plusieurs objets magiques** pour fabriquer un **robot contrÃ´leur**.

---

### ğŸ”§ `from pydantic import BaseModel`

* Ce code vient de **`pydantic`**, un outil spÃ©cial.
* `BaseModel` sert Ã  **crÃ©er une rÃ¨gle** pour dire **comment doit Ãªtre la rÃ©ponse**.

ğŸ® Exemple : Câ€™est comme un **formulaire** oÃ¹ tu dois **cocher vrai/faux** âœ… et **expliquer pourquoi** ğŸ“.

---

### ğŸ§¾ `class HomeworkOutput(BaseModel):`

* On crÃ©e un **modÃ¨le de rÃ©ponse** (un **plan Ã  suivre**).
* Il sâ€™appelle `HomeworkOutput`, pour les **rÃ©ponses de devoirs**.
* Il suit les **rÃ¨gles** de `BaseModel`.

ğŸ§© Exemple : On dit que chaque rÃ©ponse doit avoir :

1. âœ… une case pour dire si câ€™est un devoir (`is_homework`),
2. ğŸ“ une phrase pour expliquer (`reasoning`).


---

### ğŸ“Œ Les deux lignes dans la classe :

```python
is_homework: bool  
reasoning: str  
```

* `is_homework: bool` â†’ Dire si câ€™est un devoir (**vrai ou faux** âœ…âŒ).
* `reasoning: str` â†’ Donner une **phrase pour expliquer** (en texte).

ğŸ§  Exemple : Si on demande â€œQuelle est la capitale du Canada ?â€
â†’ Lâ€™agent peut rÃ©pondre :

```json
{
  "is_homework": true,
  "reasoning": "Câ€™est une question quâ€™on pourrait trouver dans un devoir de gÃ©ographie."
}
```


---
### ğŸ¤– `guardrail_agent = Agent(...)`

On crÃ©e un **agent spÃ©cial** appelÃ© `guardrail_agent` : câ€™est le **contrÃ´leur des questions** ğŸ“.

#### ğŸ· `name="Guardrail check"`

â†’ Son nom : **"VÃ©rificateur de devoirs"**.

#### ğŸ“– `instructions="Check if the user is asking about homework."`

â†’ Sa mission : **VÃ©rifie si câ€™est une question de devoir**.

ğŸ¯ Exemple :
Un enfant pose une question. Lâ€™agent **regarde si câ€™est pour lâ€™Ã©cole** ğŸ“š.
Si on demande â€œQuel est ton animal prÃ©fÃ©rÃ© ?â€
â†’ Il rÃ©pond : â€œCe nâ€™est pas un devoir.â€


#### ğŸ§¾ `output_type=HomeworkOutput`

On dit Ã  lâ€™agent : **â€œTa rÃ©ponse doit suivre le modÃ¨le `HomeworkOutput`.â€**
Il doit toujours donner :

* âœ… vrai ou faux (si câ€™est un devoir),
* ğŸ“ plus une explication claire.

ğŸ§ª Exemple : Câ€™est comme dire :
**â€œUtilise toujours ce formulaire prÃ©cis pour rÃ©pondre.â€**
ğŸ‘‰ Pas de rÃ©ponse floue ou inventÃ©e.


---

## âœ… RÃ©sumÃ© simple :

| Code                                | Ce que Ã§a fait                   | Exemple facile                          |
| ----------------------------------- | -------------------------------- | --------------------------------------- |
| `GuardrailFunctionOutput`           | VÃ©rifie les rÃ©ponses             | Un **contrÃ´leur** Ã  la sortie           |
| `BaseModel` + `class`               | CrÃ©e un modÃ¨le de rÃ©ponse        | Un **formulaire Ã  remplir** âœï¸          |
| `is_homework: bool`                 | Vrai ou faux                     | Une **case Ã  cocher** âœ…                 |
| `reasoning: str`                    | Explique la rÃ©ponse              | Une **petite phrase** ğŸ—£ï¸               |
| `Agent(...)` avec `output_type=...` | Agent qui suit une rÃ¨gle prÃ©cise | Un **assistant avec un modÃ¨le fixe** ğŸ“‹ |


---

ğŸ® **Exemples simples** :

* **Appli de devoirs** ğŸ“š : lâ€™agent vÃ©rifie si câ€™est une question scolaire.
* **Appli santÃ©** ğŸ¥ : il regarde si câ€™est un symptÃ´me.

---

âœ¨ Tu as ajoutÃ© un **garde-fou intelligent** :
il **filtre les questions**, dit si elles sont valables âœ…âŒ,
et **explique clairement pourquoi** ğŸ§ .


#9

Super, on continue avec notre **assistant contrÃ´leur** ğŸ¤– !

Cette fois, on lui donne une **vraie question** pour voir sâ€™il pense que câ€™est un **devoir ou non** ğŸ“š.

ğŸ‘‰ Câ€™est comme lui dire :
**â€œRegarde cette question. Est-ce un devoir ?â€**
Puis on regarde sa rÃ©ponse : âœ… ou âŒ.


---

## ğŸ§ª Ã‰tape 11 : CrÃ©er la fonction qui fait marcher le garde-fou

Voici le **code complet** :

```python
async def homework_guardrail(ctx, agent, input_data):
    result = await Runner.run(guardrail_agent, input_data, context=ctx.context)
    final_output = result.final_output_as(HomeworkOutput)
    return GuardrailFunctionOutput(
        output_info=final_output,
        tripwire_triggered=not final_output.is_homework,
    )
```

---

### ğŸ“¦ `async def homework_guardrail(ctx, agent, input_data):`

* `async def` â†’ On crÃ©e une **fonction spÃ©ciale** qui peut **attendre une rÃ©ponse lente**.
* `homework_guardrail` â†’ Câ€™est son **nom** : elle **vÃ©rifie si la question est un devoir** ğŸ“š.
* Elle utilise trois choses :

  * `ctx` â†’ le **contexte** (ce que lâ€™ordi sait),
  * `agent` â†’ lâ€™**agent utilisÃ©**,
  * `input_data` â†’ la **question posÃ©e** (ex : â€œCapitale du Japon ?â€).

ğŸ® Exemple : Câ€™est comme un **mini-jeu** : tu donnes une question et le robot dit si câ€™est **une question dâ€™Ã©cole** ou non.

---

### ğŸ§  `result = await Runner.run(guardrail_agent, input_data, context=ctx.context)`

* `await` â†’ **Attends que le robot rÃ©flÃ©chisse**.
* `Runner.run(...)` â†’ Lance le **robot-vÃ©rificateur** (`guardrail_agent`).

On lui donne :

* `input_data` â†’ la **question Ã  vÃ©rifier**,
* `context=ctx.context` â†’ des **infos utiles** (ex : â€œcâ€™est LÃ©aâ€).

ğŸ” Exemple : Tu dis Ã  ton assistant :
**â€œVoici la question et les infos. Dis-moi si câ€™est un devoir.â€**

---

### ğŸ“‹ `final_output = result.final_output_as(HomeworkOutput)`

* On dit Ã  lâ€™agent : **â€œRÃ©ponds en suivant le modÃ¨le `HomeworkOutput`.â€**
  ğŸ‘‰ Avec :

  * âœ… `is_homework` â†’ vrai ou faux,
  * ğŸ“ `reasoning` â†’ une petite explication.

ğŸ—‚ï¸ Exemple : Câ€™est comme dire Ã  ton robot :
âœ… â€œCoche si câ€™est un devoirâ€ + âœï¸ â€œExplique pourquoi (ex : câ€™est une question dâ€™histoire)â€.


---

### ğŸ” `return GuardrailFunctionOutput(...)`

* Cette ligne **renvoie la rÃ©ponse du garde-fou**, bien rangÃ©e.

#### ğŸ§¾ `output_info=final_output`

â†’ On garde :

* âœ… si câ€™est un devoir
* ğŸ“ + lâ€™explication.

#### âš ï¸ `tripwire_triggered=not final_output.is_homework`

* `tripwire_triggered` = **Est-ce quâ€™on dÃ©clenche une alarme ?**
* Elle sonne **si ce nâ€™est pas un devoir**.

ğŸš¨ Exemple : Une **alarme cachÃ©e** sonne pour dire :
**â€œStop, ce nâ€™est pas une question scolaire !â€**

---

## âœ… RÃ©sumÃ© trÃ¨s simple :

| Code                      | Ce que Ã§a fait             | Petit exemple                      |
| ------------------------- | -------------------------- | ---------------------------------- |
| `homework_guardrail(...)` | VÃ©rifie si câ€™est un devoir | Un robot qui contrÃ´le ğŸ“˜           |
| `Runner.run(...)`         | Lance le garde-fou         | Allume un assistant analyseur ğŸ”   |
| `final_output_as(...)`    | Range bien la rÃ©ponse      | Une fiche remplie avec soin ğŸ“     |
| `tripwire_triggered`      | DÃ©clenche une alarme       | Alerte si ce nâ€™est pas scolaire ğŸš¨ |

---

## ğŸ¯ Exemples concrets :

* **Appli de devoirs** ğŸ“š : vÃ©rifie si câ€™est une vraie question scolaire.
* **TÃ¢ches Ã  la maison** ğŸ§¹ : filtre les vraies demandes (pas â€œregarder des vidÃ©osâ€ ğŸ˜„).


---



#10

Parfait, tu y es presque ! ğŸ› ï¸ Tu as appris Ã  :

* CrÃ©er un **agent intelligent** (comme un prof de maths ğŸ“š),
* Utiliser un **agent de tri** pour savoir **qui rÃ©pond** ğŸ¯,
* Ajouter un **garde-fou** pour vÃ©rifier si câ€™est un **devoir ou non** âœ…âŒ.

Maintenant, on va **tout assembler** comme un **robot complet**â€¦
et appuyer sur **le bouton marche** ğŸ¦¾ğŸŸ¢ !


---

## ğŸ§© Ã‰tape 12 : Tout mettre ensemble et faire tourner le systÃ¨me complet

Voici le **code complet** prÃ©sentÃ© dans cette Ã©tape :

```python
from agents import Agent, InputGuardrail, GuardrailFunctionOutput, Runner
from pydantic import BaseModel
import asyncio

class HomeworkOutput(BaseModel):
    is_homework: bool
    reasoning: str

guardrail_agent = Agent(
    name="Guardrail check",
    instructions="Check if the user is asking about homework.",
    output_type=HomeworkOutput,
)

math_tutor_agent = Agent(
    name="Math Tutor",
    handoff_description="Specialist agent for math questions",
    instructions="You provide help with math problems. Explain your reasoning at each step and include examples",
)

history_tutor_agent = Agent(
    name="History Tutor",
    handoff_description="Specialist agent for historical questions",
    instructions="You provide assistance with historical queries. Explain important events and context clearly.",
)
```

---

### ğŸ§° `from agents import ...`

On sort des outils de la boÃ®te `agents` :

* `Agent` â†’ crÃ©e des **assistants intelligents** (comme des profs),
* `InputGuardrail` â†’ **vÃ©rifie la question avant de rÃ©pondre**,
* `GuardrailFunctionOutput` â†’ **gÃ¨re la rÃ©ponse du garde-fou**,
* `Runner` â†’ **lance tout le systÃ¨me** comme un bouton **play** â–¶ï¸.

ğŸ§  Exemple : Câ€™est comme sortir des outils dâ€™un **sac magique** pour monter un robot qui **Ã©coute**, **vÃ©rifie**, puis **rÃ©pond**.


---
### ğŸ“¦ `from pydantic import BaseModel`

* `BaseModel` sert de **fiche de contrÃ´le** ğŸ“„ pour dire **comment la rÃ©ponse doit Ãªtre Ã©crite**.

---

### ğŸ `import asyncio`

* `asyncio` aide Python Ã  **attendre sans bloquer**.
  ğŸ• Exemple : Câ€™est comme **cuisiner deux plats Ã  la fois** : pendant quâ€™un chauffe, tu **prÃ©pares lâ€™autre tranquillement**.


---

### ğŸ§¾ CrÃ©ation du modÃ¨le de sortie :

```python
class HomeworkOutput(BaseModel):
    is_homework: bool
    reasoning: str
```

* On crÃ©e une **fiche de rÃ©ponse** avec :

  * âœ… `is_homework` â†’ pour dire si câ€™est un devoir,
  * ğŸ“ `reasoning` â†’ une phrase pour expliquer pourquoi.

ğŸ“‹ Exemple : Câ€™est comme dire :
Â« Chaque fois que tu rÃ©ponds, **remplis ce formulaire** :
â˜‘ï¸ Câ€™est un devoir ?
ğŸ“ Pourquoi tu penses Ã§a ? Â»

---

### ğŸ§  CrÃ©ation du **garde-fou intelligent** :

```python
guardrail_agent = Agent(
    name="Guardrail check",
    instructions="Check if the user is asking about homework.",
    output_type=HomeworkOutput,
)
```

* `"Guardrail check"` â†’ câ€™est le **vÃ©rificateur de devoirs**.
* Sa mission : **dire si la question est un devoir**.
* Il rÃ©pond avec le **formulaire `HomeworkOutput`** (âœ… + ğŸ“).

ğŸ‘® Exemple : Comme un **agent de sÃ©curitÃ©** qui dit :
â€œTu veux faire un devoir ? Sinon, tu ne passes pas.â€ âœ…ğŸš«

---
### â— CrÃ©ation du **prof de maths** :

```python
math_tutor_agent = Agent(
    name="Math Tutor",
    handoff_description="Specialist agent for math questions",
    instructions="You provide help with math problems. Explain your reasoning at each step and include examples",
)
```

* Câ€™est lâ€™agent pour les **maths**.
* Mission : **expliquer les problÃ¨mes Ã©tape par Ã©tape**, avec des **exemples**.
* Description : **â€œSpÃ©cialiste des questions de maths.â€**

ğŸ¯ Exemple : Si tu Ã©cris â€œ9 x 7 ?â€, câ€™est **lui qui rÃ©pond**.


---

### ğŸ›ï¸ CrÃ©ation du **prof dâ€™histoire** :

```python
history_tutor_agent = Agent(
    name="History Tutor",
    handoff_description="Specialist agent for historical questions",
    instructions="You provide assistance with historical queries. Explain important events and context clearly.",
)
```

* `"History Tutor"` â†’ câ€™est le **prof dâ€™histoire**.
* Mission : **rÃ©pondre aux questions dâ€™histoire** et **expliquer le contexte**.

ğŸ“š Exemple : Si tu demandes â€œPourquoi la RÃ©volution franÃ§aise a commencÃ© ?â€,
â†’ câ€™est **lui** qui rÃ©pond.

---

## âœ… RÃ©sumÃ© simple :

| Ã‰lÃ©ment               | RÃ´le                | Petit exemple             |
| --------------------- | ------------------- | ------------------------- |
| `Agent`               | CrÃ©e un assistant   | Un prof virtuel ğŸ‘¨â€ğŸ«     |
| `InputGuardrail`      | VÃ©rifie la question | Un filtre de sÃ©curitÃ© ğŸš§  |
| `HomeworkOutput`      | ModÃ¨le de rÃ©ponse   | Un formulaire ğŸ“„          |
| `Runner`              | Lance tout          | Un chef dâ€™orchestre ğŸ§‘â€âœˆï¸ |
| `math_tutor_agent`    | RÃ©pond aux maths    | Prof de calcul â•          |
| `history_tutor_agent` | RÃ©pond Ã  lâ€™histoire | Prof dâ€™histoire ğŸ“–        |
| `guardrail_agent`     | VÃ©rifie les devoirs | ContrÃ´leur Ã  lâ€™entrÃ©e ğŸ›‚  |

---

### ğŸ® Exemples utiles :

* **Appli scolaire** ğŸ“š : le garde-fou vÃ©rifie, puis le bon prof rÃ©pond.
* **Robot familial** ğŸ‘¨â€ğŸ‘©â€ğŸ‘§ : il rÃ©pond **seulement aux vraies questions dâ€™Ã©cole**.

---

ğŸ‰ Bravo ! Tu as assemblÃ© :
âœ… un **garde-fou**,
âœ… des **agents spÃ©cialisÃ©s**,
âœ… et un **systÃ¨me qui lance tout**.

Tu as construit un **assistant intelligent de classe**, prÃªt Ã  aider ğŸ’ğŸ’¡.



#11

Super, on continue ! ğŸ§ 

Tu as dÃ©jÃ  :
âœ… des **agents profs**,
âœ… un **garde-fou**,
âœ… des **formulaires de rÃ©ponse** bien rangÃ©s.

Maintenant, on crÃ©e un **mini-robot testeur** ğŸ› ï¸ :
Tu lui donnes une question â†’ il **demande au garde-fou** â†’
puis il **regarde la rÃ©ponse** pour dire :
ğŸ‘‰ â€œOn laisse passer ou pas ?â€ âœ…âŒ


---

## ğŸ›¡ï¸ Ã‰tape 13 : Utiliser le garde-fou avec une vraie question

Voici le **code complet** quâ€™on va expliquer :

```python
async def homework_guardrail(ctx, agent, input_data):
    result = await Runner.run(guardrail_agent, input_data, context=ctx.context)
    final_output = result.final_output_as(HomeworkOutput)
    return GuardrailFunctionOutput(
        output_info=final_output,
        tripwire_triggered=not final_output.is_homework,
    )
```

---

### ğŸ§  `async def homework_guardrail(ctx, agent, input_data):`

* `async def` â†’ CrÃ©e un **petit robot patient** ğŸ¤– qui peut **attendre une rÃ©ponse lente**.
* `homework_guardrail` â†’ Câ€™est son **nom**.
* Sa mission : **vÃ©rifier si la question est un devoir** âœ…âŒ.

Il reÃ§oit :

* `ctx` â†’ le **sac dâ€™infos utiles**,
* `agent` â†’ lâ€™**assistant principal** (pas utilisÃ© ici),
* `input_data` â†’ la **question de lâ€™utilisateur**.

ğŸ® Exemple : Câ€™est comme une **mini-mission** : tu donnes une question et le robot te dit si câ€™est un **vrai devoir** ğŸ“š ou non.


---

### ğŸ” `result = await Runner.run(guardrail_agent, input_data, context=ctx.context)`

* `Runner.run(...)` â†’ Câ€™est le **chef dâ€™orchestre** qui **lance le garde-fou**.
* Il vÃ©rifie si la question est **scolaire ou non**.
* Il prend :

  * `input_data` â†’ la **question Ã  vÃ©rifier**,
  * `context=ctx.context` â†’ le **sac dâ€™infos utiles**.
* `await` â†’ veut dire **â€œAttends la rÃ©ponse avant de continuerâ€**.

ğŸ§ª Exemple : Tu donnes une **interro au prof**, tu **attends quâ€™il corrige**, puis tu regardes **le rÃ©sultat**.


---

### ğŸ“„ `final_output = result.final_output_as(HomeworkOutput)`

* On dit au robot :
  ğŸ‘‰ â€œRÃ©ponds **dans le bon format**.â€

Il doit donner :

* âœ… un **oui/non** (`is_homework`),
* ğŸ“ une **explication** (`reasoning`).

ğŸ“‹ Exemple : Câ€™est comme **remplir une fiche** :
âœ… Est-ce un devoir ?
ğŸ“ Pourquoi tu penses Ã§a ?



---

### ğŸ§¾ `return GuardrailFunctionOutput(...)`

On **renvoie la rÃ©ponse complÃ¨te**, bien rangÃ©e.

#### 1ï¸âƒ£ `output_info=final_output`

* Câ€™est le **rÃ©sultat du robot**, avec :

  * âœ… `is_homework` â†’ oui ou non,
  * ğŸ“ `reasoning` â†’ son explication.

ğŸ—‚ï¸ Exemple : Câ€™est comme **mettre la fiche du robot dans une enveloppe** pour lâ€™envoyer.



---

#### 2ï¸âƒ£ `tripwire_triggered=not final_output.is_homework`

* Ã‡a veut dire : **â€œFaut-il dÃ©clencher une alarme ?â€**
* Si ce **nâ€™est pas un devoir**, alors â†’ ğŸ’¥ **lâ€™alarme sâ€™active**.

ğŸš¨ Exemple : Lâ€™enfant demande â€œQuel est ton animal prÃ©fÃ©rÃ© ?â€
â†’ Le robot dit : â€œPas un devoirâ€ â†’ ğŸ’¥ **alarme** â†’ âŒ **on bloque la suite**.


---

## âœ… RÃ©sumÃ© super simple :

| Code                      | Ce que Ã§a fait                                 | Petit exemple                                |
| ------------------------- | ---------------------------------------------- | -------------------------------------------- |
| `homework_guardrail(...)` | VÃ©rifie une question                           | Un robot qui scanne si câ€™est un devoir ğŸ¤–    |
| `Runner.run(...)`         | Lance le garde-fou                             | Donne la question Ã  un prof pour corriger ğŸ“© |
| `final_output_as(...)`    | Range bien la rÃ©ponse                          | Une fiche avec âœ…/âŒ + explication ğŸ“‹          |
| `tripwire_triggered`      | DÃ©clenche une alarme si ce nâ€™est pas un devoir | â€œStop, ce nâ€™est pas scolaire !â€ ğŸš¨           |



---

## ğŸ¯ Exemples simples :

* **Appli de devoirs** ğŸ“š : Ã©vite les questions hors Ã©cole.
* **Assistant en classe** ğŸ« : rÃ©pond **seulement aux vraies questions scolaires**.
* **Appli famille** ğŸ  : ne rÃ©pond quâ€™aux **devoirs du jour**.

---




#12

GÃ©nial ! ğŸ‰ Tu es presque prÃªt Ã  **tout coller ensemble** :

* âœ… des **agents profs** (maths â•, histoire ğŸ“š),
* âœ… un **garde-fou** pour vÃ©rifier les devoirs,
* âœ… une fonction `homework_guardrail` pour **faire le test**,
* âœ… un **agent de tri** pour **choisir le bon prof**.

ğŸ§© DerniÃ¨re Ã©tape : on **colle le garde-fou au chef dâ€™Ã©quipe** ğŸ‘®â€â™‚ï¸ğŸ‘¨â€ğŸ« :
Chaque question sera **vÃ©rifiÃ©e avant** dâ€™aller au prof ğŸ“šâœ….


---

## ğŸ¤ Ã‰tape 14 : Le chef dâ€™Ã©quipe avec filtre intÃ©grÃ©

Voici le **code complet** de cette Ã©tape :

```python
triage_agent = Agent(
    name="Triage Agent",
    instructions="You determine which agent to use based on the user's homework question",
    handoffs=[history_tutor_agent, math_tutor_agent],
    input_guardrails=[
        InputGuardrail(guardrail_function=homework_guardrail),
    ],
)
```

---

### ğŸ“ `triage_agent = Agent(...)`

On crÃ©e un **agent intelligent** appelÃ© `triage_agent`.
Sa mission : **lire la question** et choisir :
ğŸ‘‰ â€œEst-ce que jâ€™envoie Ã§a au prof de maths â• ou au prof dâ€™histoire ğŸ“š ?â€

ğŸ§‘â€âœˆï¸ Exemple : Câ€™est comme un **chef de gare** ğŸš‰ qui lit ton billet (la question) et dit :
ğŸ‘‰ â€œVa dans le train des mathsâ€ ou â€œdans celui de lâ€™histoireâ€.

---
### ğŸ“› `name="Triage Agent"`

* Câ€™est le **nom du chef** : `"Triage Agent"` â†’ **agent de tri** (celui qui oriente).

---

### ğŸ“– `instructions="You determine which agent to use based on the user's homework question"`

* Sa mission : **lire la question** et choisir **le bon prof** pour rÃ©pondre.

ğŸ“¬ Exemple :
Si on demande â€œQui a inventÃ© lâ€™Ã©lectricitÃ© ?â€ â†’
ce nâ€™est pas des maths â• â†’ il lâ€™envoie **au prof dâ€™histoire** ğŸ“š.


---
### ğŸ” `handoffs=[history_tutor_agent, math_tutor_agent]`

* Liste des **professeurs disponibles** pour recevoir la question.
  ğŸ¯ Exemple : Le **chef de gare** peut envoyer dans le **train rouge (maths)** ou **bleu (histoire)**.

---

### ğŸ›‘ `input_guardrails=[...]`

* On ajoute un **garde-fou Ã  lâ€™entrÃ©e** pour **vÃ©rifier la question avant le tri**.
  ğŸ›‚ Exemple : Avant dâ€™entrer dans la gare, un agent **vÃ©rifie ton billet** â†’ â€œEst-ce vraiment un devoir ?â€ âœ…âŒ


---
### ğŸ§ª `InputGuardrail(guardrail_function=homework_guardrail)`

* On crÃ©e un **garde-fou intelligent** ğŸ¤–.
* Il utilise `homework_guardrail` pour **vÃ©rifier la question** :
  ğŸ‘‰ â€œOn continue âœ… ou on bloque ğŸš« ?â€

ğŸ” Exemple : Tu Ã©cris â€œQuel est ton fruit prÃ©fÃ©rÃ© ?â€ ğŸ
â†’ Le robot dit : â€œCe nâ€™est pas un devoir.â€
â†’ Lâ€™**agent de tri sâ€™arrÃªte**. La question est **bloquÃ©e** â›”.

---

## âœ… RÃ©sumÃ© simple :

| Code                        | Ce que Ã§a fait        | Exemple du monde rÃ©el                  |
| --------------------------- | --------------------- | -------------------------------------- |
| `triage_agent = Agent(...)` | CrÃ©e le chef qui trie | Un chef de gare ğŸš¦                     |
| `name="..."`                | Nom du chef           | Son badge ğŸ“›                           |
| `instructions="..."`        | Sa mission            | Que faire quand une question arrive âœ‰ï¸ |
| `handoffs=[...]`            | Liste des relais      | Ã€ qui il peut envoyer la question ğŸ“¨   |
| `input_guardrails=[...]`    | VÃ©rifie Ã  lâ€™entrÃ©e    | Un agent qui contrÃ´le les billets ğŸ«   |
| `InputGuardrail(...)`       | Active le garde-fou   | VÃ©rifie que câ€™est un vrai devoir âœ…âŒ    |



---

## ğŸ¯ Exemples simples dâ€™utilisation :

* **Appli scolaire** ğŸ“š : le robot vÃ©rifie â†’ le chef envoie au bon prof.
* **Assistant famille** ğŸ  : il rÃ©pond **seulement aux vraies questions dâ€™Ã©cole**.

---

ğŸ‰ Et voilÃ  !
Ton systÃ¨me est **complet** :

* un **chef intelligent** ğŸš¦,
* un **garde de sÃ©curitÃ©** ğŸ›‚,
* deux **professeurs spÃ©cialisÃ©s** ğŸ‘©â€ğŸ«ğŸ‘¨â€ğŸ«,
* et un **filtre automatique** âœ… pour ne garder que les vraies questions de devoirs.



#13
Parfait ğŸŒŸ ! Tu vas voir **tout le systÃ¨me en action**, comme une petite scÃ¨ne ğŸ­ :

* Lâ€™enfant pose une question,
* Le **chef dâ€™Ã©quipe** lâ€™Ã©coute,
* Le **garde-fou** vÃ©rifie si câ€™est un vrai devoir,
* Le chef choisit le **bon prof** (maths â• ou histoire ğŸ“š),
* Et la **rÃ©ponse sâ€™affiche** ğŸ‰.


---

## ğŸ§ª Ã‰tape 15 : Lancer deux vraies questions pour tester tout le systÃ¨me

Voici le **code complet** Ã  expliquer :

```python
async def main():
    result = await Runner.run(triage_agent, "who was the first president of the united states?")
    print(result.final_output)

    result = await Runner.run(triage_agent, "what is life")
    print(result.final_output)

if __name__ == "__main__":
    asyncio.run(main())
```

---
### ğŸ§  `async def main():`

* On crÃ©e la **fonction principale** du programme.
* `async` veut dire quâ€™elle peut **attendre sans bloquer**.

ğŸ•¹ï¸ Exemple : Câ€™est comme un **mini-scÃ©nario** qui commence quand tu appuies sur **â€œPlayâ€** â–¶ï¸.
Et si un prof met du temps Ã  rÃ©pondre, le programme **attend sans sâ€™Ã©nerver**.


---
### â–¶ï¸ `result = await Runner.run(...)`

```python
result = await Runner.run(triage_agent, "who was the first president of the united states?")
```

* `Runner.run(...)` â†’ Le **chef dâ€™orchestre** dÃ©marre tout.
* `triage_agent` â†’ Le **chef dâ€™Ã©quipe** reÃ§oit la question.
* `"who was the first president of the united states?"` â†’ Câ€™est la **question posÃ©e**.

ğŸ§‘â€ğŸ« Que se passe-t-il ?

1. Le **garde-fou** vÃ©rifie si câ€™est un devoir âœ…
2. Si oui, le **chef choisit le bon prof** ğŸ‘¨â€ğŸ«
3. Le prof **rÃ©pond Ã  la question** âœï¸


---
### ğŸ–¨ï¸ `print(result.final_output)`

* Cette ligne **affiche la rÃ©ponse de lâ€™agent** sur lâ€™Ã©cran.

ğŸ“º Exemple : Câ€™est comme si lâ€™Ã©lÃ¨ve **lisait la rÃ©ponse du prof** :
â†’ â€œCâ€™est George Washington !â€

---

### ğŸŒ€ DeuxiÃ¨me question :

```python
result = await Runner.run(triage_agent, "what is life")
print(result.final_output)
```

* On relance le systÃ¨me avec une **question floue** : `"what is life"` ğŸ¤”
* Ce nâ€™est **pas un vrai devoir scolaire**.
* Le **garde-fou va sÃ»rement la bloquer** âŒ pour **ne pas dÃ©ranger les profs**.

ğŸ” Exemple :
Un Ã©lÃ¨ve entre et dit : â€œCâ€™est quoi la vie ?â€
â†’ Le robot rÃ©pond : â€œPas un devoirâ€ âŒ
â†’ Donc le **prof ne voit mÃªme pas la question**.



---

### ğŸš€ `if __name__ == "__main__":`

* Cette ligne dit : **â€œSi tu lances ce fichier, commence par `main`.â€**

ğŸ§ƒ Exemple : Câ€™est comme ouvrir une boÃ®te avec une note collÃ©e dessus :
â€œ**Commence ici** ğŸ“â€.


---

### ğŸƒ `asyncio.run(main())`

* Cette ligne **lance tout le programme** en dÃ©marrant `main()`.
* On utilise `asyncio` car **`main()` peut attendre sans tout bloquer**.

ğŸ¬ Exemple : Câ€™est comme appuyer sur **â€œACTION !â€** pour dÃ©marrer un film ğŸ¥.


---

## âœ… RÃ©sumÃ© visuel :

| Ã‰lÃ©ment                     | Ce que Ã§a fait                 | Petit exemple               |
| --------------------------- | ------------------------------ | --------------------------- |
| `async def main()`          | Fonction principale            | Le plan du spectacle ğŸ­     |
| `Runner.run(...)`           | Lance un agent                 | Donne le micro au chef ğŸ¤   |
| `triage_agent`              | Choisit le bon prof            | Chef de gare ğŸš¦             |
| `print(...)`                | Affiche la rÃ©ponse             | Montre sur lâ€™Ã©cran ğŸ“º       |
| `if __name__ == "__main__"` | DÃ©marre si on lance le fichier | Ouvre la boÃ®te et allume ğŸ¤– |
| `asyncio.run(...)`          | Lance tout                     | Appuie sur â€œplayâ€ â–¶ï¸        |



---

---
## ğŸ¯ Exemples concrets :

* **Appli pour Ã©lÃ¨ves** ğŸ“š : lâ€™enfant pose une question â†’ le robot vÃ©rifie â†’ le bon prof rÃ©pond â†’ la rÃ©ponse sâ€™affiche.
* **Jeu Ã©ducatif** ğŸ® : les vraies questions passent, les autres sont bloquÃ©es.
* **Chatbot scolaire** ğŸ’¬ : il rÃ©pond **seulement aux devoirs**.

---

ğŸ‰ Bravo ! Tu as compris comment tout marche ensemble :
ğŸ‘‰ le **garde-fou**,
ğŸ‘‰ le **chef dâ€™Ã©quipe**,
ğŸ‘‰ les **profs spÃ©cialisÃ©s**,
ğŸ‘‰ et la **rÃ©ponse finale**, si tout est bon âœ….


#14

Bien sÃ»r ! ğŸ˜Š Ton assistant sait maintenant :

âœ… Ã©couter la question,
âœ… vÃ©rifier si câ€™est un devoir,
âœ… choisir le bon prof,
âœ… et afficher la rÃ©ponse.

Mais...
ğŸ‘‰ **Comment savoir ce qui sâ€™est passÃ© Ã  lâ€™intÃ©rieur ?**
Câ€™est ce quâ€™on appelle **les traces** ğŸ•µï¸â€â™‚ï¸ :
elles permettent de **suivre le chemin de la question**, Ã©tape par Ã©tape.

---
## ğŸ•µï¸â€â™‚ï¸ Quâ€™est-ce quâ€™une trace ?

Une **trace**, câ€™est comme un **journal secret** que ton assistant garde.
Câ€™est un **film des coulisses** ğŸ¬ oÃ¹ on voit :

* â“ la **question posÃ©e**,
* ğŸ›‚ si le **garde-fou a bloquÃ© ou laissÃ© passer**,
* ğŸ‘©â€ğŸ« **quel prof a rÃ©pondu**,
* ğŸ’¬ et **la rÃ©ponse exacte donnÃ©e**.

---
## ğŸ“ OÃ¹ voir les traces ?

Va dans ton compte OpenAI et ouvre le **Trace viewer**.

Câ€™est comme une **loupe magique ğŸ”** :
tu peux **rejouer chaque Ã©tape**, comme une **rediffusion Ã  la tÃ©lÃ© ğŸ“º**,
et voir **tout ce que ton assistant a fait**.


---
## ğŸ“¦ Ã€ quoi Ã§a sert les traces ?

Des **exemples concrets** dans des applis :

### ğŸ“ Appli de devoirs

Tu veux voir si la question de maths â• est bien allÃ©e au bon prof ?
ğŸ‘‰ Regarde la **trace**.

### ğŸ§¾ Appli de tÃ¢ches

Lâ€™enfant dit : â€œTu peux ranger ma chambre ?â€
ğŸ‘‰ Le robot ne rÃ©pond pas ? La **trace** montre que le **garde-fou lâ€™a bloquÃ©** âŒ.

### ğŸ“± Jeu Ã©ducatif

Tu veux savoir si une **devinette a Ã©tÃ© prise pour un devoir** ?
ğŸ‘‰ La **trace te le dit**.

### ğŸ§  Appli scolaire

Tu veux vÃ©rifier si les questions sont **sÃ©rieuses** et les rÃ©ponses **justes** ?
ğŸ‘‰ La **trace montre tout**.

---
## ğŸ® Une image simple pour comprendre

Câ€™est comme **regarder un match de foot en replay** âš½ :

* Tu vois **qui a passÃ© la balle**,
* Qui a **essayÃ© de marquer**,
* Et si le **but a Ã©tÃ© acceptÃ©** ou non.

Les **traces**, câ€™est pareil pour ton assistant ğŸ¤– :
Elles montrent **chaque Ã©tape**, du dÃ©but Ã  la rÃ©ponse.
Et si quelque chose **ne marche pas**, tu peux **le voir facilement** ğŸ‘€âœ….


---
## ğŸ§  Pourquoi câ€™est utile ?

ğŸ‘‰ Parce que ton assistant peut parfois **se tromper** ou **mal comprendre**.
Avec les **traces**, tu peux **voir oÃ¹ Ã§a a bloquÃ©**
et **amÃ©liorer ton systÃ¨me** facilement âœ….


---
## âœ¨ RÃ©sumÃ© super simple :

* Une **trace** = un **film invisible** de ce que ton assistant a fait ğŸ¬
* Tu peux **la revoir** dans ton compte, dans **Trace viewer** ğŸ”
* Câ€™est super utile pour **comprendre, corriger et amÃ©liorer** ton assistant ğŸ¤–âœ…

---

#15

TrÃ¨s bien ! ğŸ‰ Tu sais maintenant :

* crÃ©er un **assistant intelligent**,
* lui donner un rÃ´le (prof dâ€™histoire ou de maths),
* ajouter un **garde-fou** pour filtrer les questions,
* et **suivre ce quâ€™il a fait** avec les **traces**.

Maintenant, place aux **prochaines Ã©tapes** :
des idÃ©es pour crÃ©er des assistants encore **plus forts et utiles** ğŸ¤–âœ¨.



---
## ğŸ› ï¸ Ã‰tape suivante 1 : Configurer tes agents

Tu vas pouvoir **personnaliser encore plus tes assistants** ğŸ¤– :

* Leur donner un **ton spÃ©cial** (calme, drÃ´le, sÃ©rieux...),
* Leur dire **comment rÃ©agir selon la situation**,
* Leur apprendre Ã  **rÃ©pondre selon le contexte**.

ğŸ¨ Comme un assistant **sur-mesure** !

ğŸ§© Exemples :

* **Appli cuisine** ğŸª : lâ€™agent change si tu cuisines pour un enfant.
* **Appli lecture** ğŸ“š : il propose une histoire **courte ou longue**, selon lâ€™heure.


---
## ğŸš€ Ã‰tape suivante 2 : Faire tourner les agents

Tu vas apprendre Ã  **lancer les agents de plusieurs faÃ§ons** :

* Tu sais dÃ©jÃ  leur poser **une question simple**,
* Mais bientÃ´t, tu verras comment :

  * **plusieurs agents se passent la main** ğŸƒâ€â™‚ï¸ğŸ¤,
  * ou comment **un seul agent travaille en Ã©tapes**, comme un puzzle ğŸ§©.

ğŸ® Exemples :

* **Appli dâ€™Ã©nigmes** ğŸ§© : lâ€™agent tâ€™aide **Ã©tape par Ã©tape**.
* **Appli de voyage** âœˆï¸ : lâ€™agent tâ€™accompagne pour **choisir**, **rÃ©server** et **prÃ©parer** ğŸ§³.



---
## ğŸ›¡ï¸ Ã‰tape suivante 3 : Ajouter des super-pouvoirs Ã  tes agents

Tu vas pouvoir leur mettre des **accessoires intelligents** :

* des **outils** (comme une calculatrice ou un agenda ğŸ“†),
* des **garde-fous plus prÃ©cis**,
* ou mÃªme des **modÃ¨les diffÃ©rents** :

  * âš¡ plus rapides,
  * ğŸ§  ou plus rÃ©flÃ©chis.

ğŸ§° Comme remplir une **trousse Ã  outils magique** pour ton agent !

ğŸ”§ Exemples :

* **Appli de tÃ¢ches** ğŸ“ : il peut **cocher une liste** ou **lancer une alarme** ğŸ””.
* **Appli de sport** ğŸƒâ€â™€ï¸ : il **compte tes pas** ou **suit ton rythme** ğŸ“ˆ.
* Avec les bons **modÃ¨les** :

  * âš¡ il devient super rapide,
  * ğŸ‘“ ou trÃ¨s prÃ©cis, comme un prof.

---
## ğŸ§  En rÃ©sumÃ© :

Tu peux maintenant :

* ğŸ› ï¸ **Personnaliser** ton assistant Ã  fond,
* ğŸš€ Le faire bosser sur des missions **plus longues ou plus complexes**,
* ğŸ§° Lui ajouter des **outils et des rÃ¨gles** pour le rendre **encore plus puissant**.


---

ğŸ¯ **Un assistant pour une appli de musique ?**
â†’ Il peut **chercher une chanson**, **lancer la musique**, **faire une playlist**, et **vÃ©rifier la demande** ğŸµâœ….

ğŸ¯ **Un assistant pour organiser les devoirs ?**
â†’ Il peut **vÃ©rifier le sujet**, **choisir le bon prof**, et **rappeler les dates importantes** ğŸ“˜â°.


---