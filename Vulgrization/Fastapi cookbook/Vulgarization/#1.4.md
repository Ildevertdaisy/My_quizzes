#1

---

### **Comprendre les paramÃ¨tres dans une API**

Une **API** (une porte dâ€™entrÃ©e pour que les applis puissent discuter ğŸ“¡), câ€™est comme un robot assistant qui fait ce quâ€™on lui demande. 

Mais pour bien faire, il a besoin quâ€™on lui donne des infos prÃ©cises !


Par exemple, si tu dis juste :
  ğŸŸ¢ *Â« Joue une chanson ! Â»* â†’ Lâ€™appli ne sait pas laquelle.

  Mais si tu dis :
  ğŸŸ¢ *Â« Joue **Shape of You** ! Â»* â†’ LÃ , elle comprend mieux ce que tu veux.

Les infos quâ€™on donne sâ€™appellent des **paramÃ¨tres** !

Dans une API, il y a deux types importants :

---

## **1ï¸âƒ£ Les paramÃ¨tres de chemin (Path Parameters)**

Ce sont comme des panneaux sur la route ğŸ›£ï¸.

Ils sont dans lâ€™adresse (lâ€™URL) de lâ€™API et disent ce quâ€™on veut exactement.

ğŸ”¹ Dans une appli de **films** ğŸ¬, si tu veux voir le film *Avatar*, lâ€™API peut faire :
ğŸ‘‰ `www.cineapp.com/films/avatar`

Ici, *avatar* est un **paramÃ¨tre de chemin** (dans lâ€™adresse) qui dit exactement quel film tu veux.

ğŸ¯ **Ã€ retenir** :

* Les **paramÃ¨tres de chemin** sont dans lâ€™adresse de lâ€™API.
* Ils servent Ã  dire exactement ce quâ€™on cherche (comme un film ou un joueur ğŸ®).

---
## **2ï¸âƒ£ Les paramÃ¨tres de requÃªte (Query Parameters)**

Ce sont comme des petits mots quâ€™on donne au vendeur ğŸ“© pour lui dire encore mieux ce quâ€™on veut.

Ils sâ€™ajoutent Ã  lâ€™adresse de lâ€™API avec un `?`, suivi des infos.

ğŸ”¹ Exemple avec une appli de **mÃ©tÃ©o** ğŸŒ¤ï¸ :
ğŸ‘‰ `www.meteo.com/previsions?ville=Paris&jour=lundi`

Ici :

* `ville=Paris` dit quâ€™on veut la mÃ©tÃ©o Ã  Paris.
* `jour=lundi` prÃ©cise le jour.

Ce sont des **paramÃ¨tres de requÃªte** (des petits mots pour donner plus de dÃ©tails ğŸ“©).


ğŸ¯ **Ã€ retenir** :

* Les **paramÃ¨tres de requÃªte** viennent aprÃ¨s un `?` dans lâ€™adresse.
* Ils servent Ã  mieux prÃ©ciser ce quâ€™on cherche (comme une couleur ou une date).
* On peut en mettre plusieurs, sÃ©parÃ©s par `&`.

---

## **Pourquoi câ€™est important ?**

Sans paramÃ¨tres, une API est trop rigide âŒ.

Câ€™est comme un robot qui comprend juste *Â« joue une chanson Â»*, mais pas laquelle.

Avec les **paramÃ¨tres de chemin**, on va chercher quelque chose de prÃ©cis (comme un film ou un joueur).

Avec les **paramÃ¨tres de requÃªte**, on peut filtrer ce quâ€™on veut (comme trier des jeux par genre).

Les API utilisent ces outils partout :
âœ… **Netflix** pour les films ğŸ¬.
âœ… **Google Maps** pour les adresses ğŸ—ºï¸.
âœ… **YouTube** pour filtrer les vidÃ©os ğŸ”.

Bref, tout ce qui aide Ã  parler avec une appli !

---


#2


---

### **Utiliser les paramÃ¨tres dans FastAPI**

Une **API** (un messager pour que les applis se parlent ğŸ“¡), a besoin dâ€™infos prÃ©cises.
Comme un assistant vocal :

* *"Je veux une chanson"* â†’ il ne sait pas quoi jouer.
* *"Joue **Shape of You**"* â†’ il comprend exactement.

Pour que lâ€™API soit maligne et rapide, on lui donne des **paramÃ¨tres**.

Comme Ã§a, elle comprend bien ce que lâ€™utilisateur veut et rÃ©pond juste.

Il existe 2 types de paramÃ¨tres trÃ¨s utiles avec FastAPI :
  
---

## **1ï¸âƒ£ Les paramÃ¨tres de chemin (Path Parameters) ğŸš¦**

Ce sont comme des panneaux sur une route ğŸš—.

Ils sont dans lâ€™adresse (URL) de lâ€™API et disent exactement ce quâ€™on veut voir.
### **Exemples concrets ğŸ“± :**

* **Appli de sport âš½** :
  ğŸ‘‰ `www.sportstats.com/joueurs/messi`

  Ici, *messi* est un **paramÃ¨tre de chemin** (dans lâ€™adresse) qui dit quâ€™on veut voir ses stats.

ğŸ¯ **Pourquoi câ€™est utile ?**

* Ã‡a permet dâ€™aller direct vers quelque chose de prÃ©cis (comme un joueur ou un produit).
* Et Ã§a aide lâ€™appli Ã  bien ranger les infos.
 

---
## **2ï¸âƒ£ Les paramÃ¨tres de requÃªte (Query Parameters) ğŸ”**

Ce sont comme des petits papiers ğŸ“ quâ€™on donne pour dire ce quâ€™on veut en dÃ©tail.

Ils viennent aprÃ¨s un `?` dans lâ€™adresse (URL) et servent Ã  mieux prÃ©ciser une recherche.

### **Exemple ğŸ“± :**

* **Appli mÃ©tÃ©o â˜€ï¸** :
  ğŸ‘‰ `www.meteo.com/previsions?ville=Paris&jour=lundi`
  Ici, `ville=Paris` et `jour=lundi` sont des **paramÃ¨tres de requÃªte** (aprÃ¨s le `?`) pour dire ce quâ€™on cherche exactement.

ğŸ¯ **Pourquoi câ€™est utile ?**

* Ã‡a aide Ã  faire une recherche plus prÃ©cise.
* On peut mettre plusieurs paramÃ¨tres pour voir juste ce quâ€™on veut.

---

## **3ï¸âƒ£ Tester son API ğŸ”§**

Une API, câ€™est comme un robot assistant ğŸ¤–.

Pour quâ€™il marche bien, il faut **tester** ses rÃ©ponses et voir sâ€™il comprend bien ce quâ€™on lui dit.

### **Pourquoi tester son API ?**

* Pour voir si elle comprend bien les **paramÃ¨tres**.
* Pour Ã©viter les erreurs (ex : si un film nâ€™existe pas).
* Pour que lâ€™appli reste rapide et fluide.

---

## **Conclusion ğŸš€**

Les **paramÃ¨tres** rendent une API super forte et facile Ã  utiliser ğŸ’ª.

* Les **paramÃ¨tres de chemin** vont direct Ã  ce quâ€™on cherche (comme un film ou un joueur).
* Les **paramÃ¨tres de requÃªte** aident Ã  bien filtrer (par date, genre, couleurâ€¦).
* Tester lâ€™API Ã©vite les bugs et rend tout plus simple pour lâ€™utilisateur.

Sans les **paramÃ¨tres**, les applis seraient perdues et rÃ©pondraient mal.

On les utilise tout le temps : pour chercher un resto, Ã©couter une chanson ou commander un produit ğŸŒğŸ’¡.

---



#3

### **PrÃªt pour les paramÃ¨tres de chemin dans FastAPI ğŸš€**

Un **endpoint** (une porte pour recevoir ou envoyer des infos ğŸ“¡), câ€™est la base.

Si tu sais dÃ©jÃ  en faire un simple, tu peux continuer !
 
---
## **Câ€™est quoi un paramÃ¨tre de chemin ? ğŸ¤”**

Un **paramÃ¨tre de chemin** (ou *path parameter*) est une partie de lâ€™adresse (URL) qui change selon ce que lâ€™utilisateur demande.

Par exemple, dans une **appli de bibliothÃ¨que ğŸ“š**, si on veut voir un livre prÃ©cis, lâ€™adresse peut Ãªtre :
ğŸ‘‰ `/books/{book_id}`

Ici, `{book_id}` est un **paramÃ¨tre de chemin** (il change selon le livre demandÃ©).

Dans lâ€™adresse :

* **/books/** veut dire quâ€™on cherche des livres.
* **{book\_id}** est un **paramÃ¨tre de chemin** (lâ€™identifiant du livre).

Par exemple, pour le livre **123** :
ğŸ‘‰ `/books/123`

ğŸ“Œ **Exemples dâ€™applis avec des paramÃ¨tres de chemin :**

ğŸ”¹ **Streaming ğŸ¬** :
ğŸ‘‰ `/films/567` â†’ montre le film numÃ©ro 567.

ğŸ”¹ **Jeux vidÃ©o ğŸ®** :
ğŸ‘‰ `/joueurs/superGamerX` â†’ affiche les stats de ce joueur.

---

## **FastAPI et les paramÃ¨tres de chemin ğŸï¸**

**FastAPI** (outil pour crÃ©er des API trÃ¨s vite âš¡) permet de **capturer** facilement les **paramÃ¨tres de chemin** et de les utiliser dans une **fonction** (des instructions pour bien rÃ©pondre).

FastAPI rÃ©cupÃ¨re le **paramÃ¨tre de chemin** et lâ€™utilise pour rÃ©pondre.

Si on demande **/books/123**, il comprend que "123" est lâ€™ID du livre et va chercher les bonnes infos.

ğŸ’¡ **Pourquoi câ€™est super utile ?**

* Lâ€™API devient **plus flexible** : elle peut montrer nâ€™importe quel livre ou joueur.
* On gagne du temps : pas besoin de chercher dans une liste, on demande direct.
* Câ€™est utilisÃ© **partout** : e-commerce, jeux, applis de livraison, rÃ©seaux sociauxâ€¦

---

### **RÃ©sumÃ© ğŸ“Œ**

* Un **paramÃ¨tre de chemin** est une partie de lâ€™adresse qui change selon ce quâ€™on cherche (film, joueur, restoâ€¦).
* Il sâ€™Ã©crit souvent comme Ã§a : `{nom_du_paramÃ¨tre}` (ex : `/books/{book_id}`).
* **FastAPI** les rÃ©cupÃ¨re facilement pour rÃ©pondre juste.
* On les retrouve **dans plein dâ€™applis** : Netflix, YouTube, Amazonâ€¦

ğŸ¯ **Avec les paramÃ¨tres de chemin, une API devient plus maligne et rapide !** ğŸš€



#4

---

### **Nouveau : voir les infos dâ€™un auteur ğŸ“š**

Dans notre appli de bibliothÃ¨que, on veut maintenant pouvoir rÃ©cupÃ©rer les infos sur un **auteur** (la personne qui Ã©crit des livres âœï¸).

On va ajouter un **nouvel endpoint** (une nouvelle porte ğŸ“¡) pour demander les infos dâ€™un **auteur** en donnant son **identifiant** (un numÃ©ro unique pour le reconnaÃ®tre).

Voici le code utilisÃ© pour crÃ©er cet endpoint avec **FastAPI** :  

```python
@app.get("/authors/{author_id}")
async def read_author(author_id: int):
Â Â Â Â return {
Â Â Â Â Â Â Â Â "author_id": author_id,
Â Â Â Â Â Â Â Â "name": "Ernest Hemingway"
Â Â Â Â }
```

Regardons ensemble **chaque partie** de ce code et ce quâ€™elle signifie ! ğŸš€  

---

## **1ï¸âƒ£ @app.get("/authors/{author\_id}")**

ğŸ”¹ `@app.get(...)` :

  * Ã‡a veut dire **"je crÃ©e une nouvelle porte (endpoint) pour rÃ©cupÃ©rer des infos"**.
  * Un **endpoint** est comme une porte dâ€™immeuble ğŸ¢.
  * La mÃ©thode **GET** veut dire **"je veux des infos"** (comme quand on demande la mÃ©tÃ©o â˜€ï¸).
ğŸ”¹ `"/authors/{author_id}"` :

ğŸ”¹ `"/authors/{author_id}"` :

* `"/authors/"` veut dire quâ€™on cherche des infos sur un **auteur**.
* `{author_id}` est un **paramÃ¨tre de chemin** (il change selon lâ€™auteur).
* Exemple :
  ğŸ‘‰ `.../authors/1` â†’ auteur 1
  ğŸ‘‰ `.../authors/2` â†’ auteur 2

ğŸ“Œ **Exemples dans dâ€™autres applis :**

* **CinÃ©ma ğŸ¬** : `/films/{film_id}` â†’ voir un film prÃ©cis
* **Sport âš½** : `/joueurs/{player_id}` â†’ voir les stats dâ€™un joueur

---

## **2ï¸âƒ£ async def read\_author(author\_id: int):**

ğŸ”¹ `def` = **je crÃ©e une fonction** (un petit programme).
ğŸ”¹ `async` = **la fonction rÃ©pond vite et Ã  plusieurs personnes Ã  la fois** ğŸ“.
ğŸ”¹ `read_author` = **le nom** de la fonction.

ğŸ”¹ `(author_id: int)` :
  * `author_id` est un **paramÃ¨tre de chemin** pris dans lâ€™adresse.
  * `int` veut dire que câ€™est un **nombre entier** (pas de lettres ou de symboles).
  

ğŸ¯ **Comme une appli Ã  qui tu dis** :
*"Donne-moi lâ€™auteur numÃ©ro 3 !"*
Elle comprend, cherche lâ€™auteur, et te dit son nom.

---

## **3ï¸âƒ£ Le retour de la fonction :**  

```python
return {
Â Â Â Â "author_id": author_id,
Â Â Â Â "name": "Ernest Hemingway"
}
```
ğŸ”¹ `return {...}` :
  * Ã‡a veut dire **"voici la rÃ©ponse de lâ€™API"**.
  * La rÃ©ponse est un **dictionnaire** (une boÃ®te ğŸ“¦ avec des infos dedans).

ğŸ”¹ `"author_id": author_id` :
  * Ã‡a montre **lâ€™identifiant** de lâ€™auteur.
  * Si on Ã©crit `/authors/5`, lâ€™API rÃ©pondra avec `"author_id": 5`.

ğŸ”¹ `"name": "Ernest Hemingway"` :
  * Le **nom affichÃ© est toujours le mÃªme**, peu importe lâ€™`author_id`.
  * Lâ€™API dira toujours `"Ernest Hemingway"`.


ğŸ“Œ **Ce qui change** :

Si on tape `/authors/10`, on voit :

```json
{  
Â  "author_id": 10,  
Â  "name": "Ernest Hemingway"  
}  
```

Le **numÃ©ro change**, mais le **nom reste toujours le mÃªme**.


---

### **Pourquoi câ€™est important ? ğŸ¤”**

ğŸ’¡ Avec les **paramÃ¨tres de chemin**, lâ€™API devient super pratique !

* Elle montre les dÃ©tails dâ€™un **auteur prÃ©cis** sans faire plein de liens diffÃ©rents.
* Cette idÃ©e marche aussi pour le **cinÃ©ma**, le **sport**, les **jeux**, les **boutiques**â€¦

---

### **RÃ©sumÃ© final ğŸ“Œ**

âœ… Un **endpoint GET** est une porte pour demander des infos.
âœ… **FastAPI capte un paramÃ¨tre** (comme un numÃ©ro dâ€™auteur) dans lâ€™adresse.
âœ… Une **fonction** traite la demande et rÃ©pond.
âœ… La rÃ©ponse est un **dictionnaire** (une boÃ®te avec des infos).

Avec cette technique, on peut faire plein dâ€™applis :

* ğŸµ Voir un album avec son ID.
* ğŸª Voir un article de boutique avec son ID.

ğŸš€ **Les API rendent les applis plus vivantes et faciles Ã  utiliser !**

---

#5




#6

### **Les paramÃ¨tres de requÃªte : pour filtrer ce quâ€™on cherche ğŸ¯**

Dans une **API** (un pont pour que les applis se parlent ğŸ“¡), on ne veut pas toujours tout voir.

Parfois, on veut **filtrer** ou **personnaliser**, comme quand on fait une recherche sur un site.

Les **paramÃ¨tres de requÃªte** (query parameters) servent Ã  **ajouter des prÃ©cisions** pour que lâ€™API donne une rÃ©ponse plus exacte.

---

## **ğŸ“Œ Comment Ã§a marche ?**

Les **paramÃ¨tres de requÃªte** viennent **aprÃ¨s un `?`** dans lâ€™adresse.

Ils sont faits de **clÃ©s et valeurs** reliÃ©es par un `=`.

ğŸ“Œ **Exemple avec une bibliothÃ¨que ğŸ“š**

* Pour voir tous les livres : ğŸ‘‰ `/books`
* Pour voir seulement des fictions de 2010 : ğŸ‘‰ `/books?genre=fiction&year=2010`

ğŸ” DÃ©cryptage :

* `?genre=fiction` â†’ On veut des livres **de fiction**.
* `&year=2010` â†’ On veut ceux sortis en **2010**.

ğŸ“Œ **Pourquoi câ€™est utile ?**

* Sans paramÃ¨tres, lâ€™API montre **tous les livres** (trop large).
* Avec eux, on peut **demander juste ce quâ€™on veut**.


---
## **ğŸ¯ Exemples dans des applis quâ€™on connaÃ®t**

ğŸ”¹ **Films ğŸ¬** :
ğŸ‘‰ `/movies?genre=action&year=2023` â†’ films dâ€™action de 2023.

ğŸ”¹ **MÃ©tÃ©o â˜€ï¸** :
ğŸ‘‰ `/weather?city=Paris&date=2024-03-10` â†’ mÃ©tÃ©o de Paris Ã  une date prÃ©cise.

ğŸ”¹ **Shopping ğŸ›’** :
ğŸ‘‰ `/products?category=shoes&color=red` â†’ chaussures rouges seulement.

---

## **ğŸ“Œ Comment en mettre plusieurs ?**

Pour **ajouter plusieurs critÃ¨res**, on les sÃ©pare avec `&`.

Exemple avec des hÃ´tels ğŸ¨ :
ğŸ‘‰ `/hotels?city=NewYork&price_max=200&rating=4`

* `city=NewYork` â†’ Ã  **New York**
* `price_max=200` â†’ **maximum 200â‚¬**
* `rating=4` â†’ **au moins 4 Ã©toiles**

ğŸ¯ RÃ©sultat : on voit **seulement les hÃ´tels qui nous vont**.

---
## **ğŸ§ Pourquoi câ€™est super utile ?**

ğŸ’¡ Les **paramÃ¨tres de requÃªte** aident lâ€™API Ã  **rÃ©pondre exactement** Ã  ce quâ€™on cherche.

Ã‡a rend lâ€™appli **plus claire et agrÃ©able Ã  utiliser**.

ğŸš€ **Et sâ€™il nâ€™y avait pas de paramÃ¨tres ?**

* Tu devrais faire dÃ©filer **tous les films** sur Netflix.
* Voir **tous les produits** sur Amazon.
* Lire **toute la mÃ©tÃ©o** au lieu de "Paris demain".

ğŸ¯ Câ€™est pour Ã§a que les **API modernes utilisent toujours cette mÃ©thode** : pour montrer **juste ce quâ€™il faut**.

---

### **ğŸ“Œ En rÃ©sumÃ© !**

âœ… Les **paramÃ¨tres de requÃªte** servent Ã  **filtrer les rÃ©ponses**.
âœ… Ils viennent **aprÃ¨s un `?`**, sous forme de **clÃ©=valeur**.
âœ… On peut en mettre **plusieurs avec `&`**.
âœ… On les trouve **dans presque toutes les applis**.

---

ğŸ¯ Ils rendent les applis **plus malignes et rapides** ! ğŸš€



#7

### **Ajout de paramÃ¨tres de requÃªte dans notre bibliothÃ¨que ğŸ“š**

On a vu comment un **endpoint** (une porte ğŸ“¡) sert Ã  rÃ©cupÃ©rer des infos.
Maintenant, on va lui ajouter des **paramÃ¨tres de requÃªte** pour **filtrer ce quâ€™on cherche**.

Lâ€™idÃ©e est simple : au lieu de voir **tous les livres**, on veut que lâ€™utilisateur puisse **filtrer** par **annÃ©e**.
Par exemple : voir **seulement ceux de 2020**.

Voici le code qui permet dâ€™ajouter cette fonctionnalitÃ© :  

```python
@app.get("/books")
async def read_books(year: int = None):
Â Â Â Â if year:
Â Â Â Â Â Â Â Â return {
Â Â Â Â Â Â Â Â Â Â Â Â "year": year,
Â Â Â Â Â Â Â Â Â Â Â Â "books": ["Book 1", "Book 2"]
Â Â Â Â Â Â Â Â }
Â Â Â Â return {"books": ["All Books"]}
```

Voyons **chaque partie** de ce code et ce quâ€™elle fait ! ğŸš€  

---

## **1ï¸âƒ£ @app.get("/books")**

ğŸ”¹ `@app.get("/books")`

* On crÃ©e un **endpoint GET** (une porte pour rÃ©cupÃ©rer des infos).
* `"books"` veut dire : **liste des livres**.

ğŸ¯ **Comme une bibliothÃ¨que virtuelle** :

Tu dis juste â†’ *"Montre-moi les livres disponibles !"* ğŸ“š

ğŸ“Œ **Autres exemples dâ€™applis :**

* **Films ğŸ¬** : `/movies` â†’ liste des films.
* **Shopping ğŸ›’** : `/products` â†’ tous les produits.

---

## **2ï¸âƒ£ async def read\_books(year: int = None):**

ğŸ”¹ `def` = **je crÃ©e une fonction** (petit programme).
ğŸ”¹ `async` = elle rÃ©pond **vite** et Ã  **plusieurs personnes Ã  la fois** ğŸ“.
ğŸ”¹ `read_books` = **le nom** de la fonction.

ğŸ”¹ `(year: int = None)`

* `year` est un **paramÃ¨tre de requÃªte** (une info quâ€™on peut envoyer).
* `int` = il doit Ãªtre **un nombre entier**.
* `= None` = **câ€™est optionnel** â†’ sâ€™il nâ€™est pas donnÃ©, lâ€™API montre **tous les livres**.

ğŸ¯ **Comme Ã  la bibliothÃ¨que** :

* *"Montre-moi tous les livres"* â†’ si on ne prÃ©cise rien.
* *"Montre-moi les livres de 2020"* â†’ si on donne une annÃ©e.

ğŸ“Œ **Exemples dans dâ€™autres applis :**

* **MÃ©tÃ©o â˜€ï¸** : `/weather?city=Paris` â†’ mÃ©tÃ©o Ã  Paris.
* **Musique ğŸµ** : `/songs?genre=pop` â†’ chansons pop.

---

## **3ï¸âƒ£ VÃ©rifier si une annÃ©e est demandÃ©e (`if year:`)**

ğŸ”¹ `if year:`

* Ã‡a veut dire : **"Est-ce que lâ€™utilisateur a donnÃ© une annÃ©e ?"**
* Si **oui**, lâ€™API montre **seulement les livres de cette annÃ©e-lÃ **.


ğŸ¯ **Comme un bibliothÃ©caire qui te dit** :

ğŸ“š *"Tu veux tous les livres ou juste ceux dâ€™une annÃ©e ?"* 

---

## **4ï¸âƒ£ Retourner les rÃ©sultats en fonction de la demande**  

```python
return {
Â Â Â Â "year": year,
Â Â Â Â "books": ["Book 1", "Book 2"]
}
```

ğŸ”¹ `return { ... }`

* Ã‡a veut dire : **"voici la rÃ©ponse de lâ€™API"**.
* La rÃ©ponse est un **dictionnaire** (une boÃ®te ğŸ“¦ avec plusieurs infos dedans).

ğŸ”¹ `"year": year`

  * Montre **lâ€™annÃ©e demandÃ©e** pour confirmer le filtre.

ğŸ”¹ `"books": ["Book 1", "Book 2"]`

  * Donne la **liste des livres** trouvÃ©s pour cette annÃ©e.
 

ğŸ¯ **Comme avec un bibliothÃ©caire ğŸ“š** :
*"Tu veux les livres de 2020 ?"*
*"OK, voilÃ  deux livres sortis en 2020."*

---

## **5ï¸âƒ£ Si aucun filtre nâ€™est donnÃ©**

```python
return {"books": ["All Books"]}  
```

* Si on **ne prÃ©cise pas dâ€™annÃ©e**, lâ€™API montre **tous les livres**.

ğŸ¯ **Comme au cinÃ©ma ğŸ¥** :
Tu dis juste : *"Montre-moi tous les films !"*
Et on te montre **tout ce quâ€™il y a**.

ğŸ“Œ **Exemples dans dâ€™autres applis :**

* **Films ğŸ¬** : sans filtre â†’ on voit **tous les films**.
* **Shopping ğŸ›’** : sans catÃ©gorie â†’ on voit **tous les produits**.

---

### **ğŸ“Œ RÃ©sumÃ© final !**

âœ… Les **paramÃ¨tres de requÃªte** servent Ã  **filtrer les rÃ©sultats**.
âœ… Avec **FastAPI**, on peut ajouter un **paramÃ¨tre optionnel** (`year: int = None`).
âœ… Si on donne une **annÃ©e**, lâ€™API montre **les livres de cette annÃ©e**.
âœ… Si on ne met rien, elle montre **tous les livres**.

ğŸ“Œ **Les API font Ã§a partout** :

* ğŸµ Chercher des chansons par genre.
* ğŸ¨ Filtrer des hÃ´tels par prix.

---

ğŸš€ **Avec les paramÃ¨tres de requÃªte, lâ€™API devient plus maligne et sur-mesure !**


#8

### **Un paramÃ¨tre optionnel : comment Ã§a marche ? ğŸ¯**

Dans notre **bibliothÃ¨que virtuelle ğŸ“š**, on a ajoutÃ© un paramÃ¨tre **year**.

Il sert Ã  demander **juste les livres dâ€™une annÃ©e prÃ©cise**.

Mais attention ! Ce paramÃ¨tre est **optionnel** (pas obligÃ©).

Si on ne le met pas, lâ€™API montre **tous les livres** sans filtre.

---

### **ğŸ“Œ Câ€™est quoi un paramÃ¨tre optionnel ?**

Câ€™est une info quâ€™on **peut donner Ã  lâ€™API**, mais ce **nâ€™est pas obligatoire**. 

Dans notre cas, `year` vaut **None** (Ã§a veut dire "rien").

Donc si lâ€™utilisateur **ne donne pas dâ€™annÃ©e**, lâ€™API montre **tous les livres**.
 
ğŸ¯ **Comme Ã  la bibliothÃ¨que** :
ğŸ“š *"Montre-moi tous les livres !"* â†’ Il te montre **tout**.
ğŸ“š *"Montre-moi ceux de 2020 !"* â†’ Il te montre **juste les livres de 2020**.

Le fait de pouvoir poser la **question sans donner dâ€™annÃ©e** montre que lâ€™annÃ©e est un **paramÃ¨tre optionnel**.

---

### **ğŸ“Œ Comment Ã§a marche dans notre API ?**

Si lâ€™utilisateur donne une **annÃ©e**, lâ€™API **filtre** les livres.

ğŸ‘‰ `/books?year=2020` â¡ï¸ montre **seulement les livres de 2020**.

Si lâ€™utilisateur **ne met rien**, lâ€™API montre **tous les livres**.
ğŸ‘‰ `/books` â¡ï¸ **Liste complÃ¨te des livres**.

---

### **ğŸ“Œ OÃ¹ voit-on Ã§a ailleurs ?**

Les **paramÃ¨tres optionnels** sont **partout** !

ğŸ”¹ **MÃ©tÃ©o â˜€ï¸**

* `/weather?city=Paris` â†’ mÃ©tÃ©o de Paris
* `/weather` â†’ mÃ©tÃ©o du jour

ğŸ”¹ **Films ğŸ¬**

* `/movies?year=2023` â†’ films de 2023
* `/movies` â†’ tous les films

ğŸ”¹ **Shopping ğŸ›’**

* `/products?category=shoes` â†’ que les chaussures
* `/products` â†’ tous les articles


---

### **ğŸ“Œ Pourquoi câ€™est utile ?**

ğŸ’¡ Les **paramÃ¨tres optionnels** aident Ã  **personnaliser la recherche** sans devoir tout remplir.

ğŸš€ **Sans ces paramÃ¨tres :**

* Tu verrais **tous les articles** sur Amazon, sans pouvoir dire "chaussures rouges".
* Netflix te montrerait **tous les films**, mÃªme si tu veux juste les nouveaux.
* Google Maps afficherait **toutes les villes** du monde.

ğŸ¯ Les **paramÃ¨tres optionnels** rendent lâ€™API **plus pratique et facile Ã  utiliser** !


---

### **ğŸ“Œ RÃ©capitulons !**

âœ… Un **paramÃ¨tre optionnel** = info quâ€™on **peut donner**, mais **pas obligÃ©**.
âœ… Dans notre API, `year` est **optionnel** :
â†’ Si on le donne, lâ€™API **filtre**.
â†’ Si on ne le donne pas, elle **montre tout**.
âœ… Ce systÃ¨me est utilisÃ© **dans plein dâ€™applis** pour filtrer sans tout remplir.

---

ğŸš€ GrÃ¢ce Ã  Ã§a, lâ€™API est **plus intelligente et plus pratique** !


#9

# La suite du texte prÃ©cÃ©dent
Exercise

Using the APIRouter class, refactor each endpoint in a separate file and add the route to the FastAPI server.